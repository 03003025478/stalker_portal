/*! launcher: v0.0.1 (webpack: v1.12.6) */
!function(e){function t(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return e[s].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var s=i(4),n=i(1),o=i(22),a=i(19),r=i(12),c=i(15),d=i(7);s.addListeners({load:function(){var e=0,t=3;if(s.data.query=o(document.location.search.substring(1)),s.data.settings=gSTB.LoadUserData(r.file),s.data.settings)try{s.data.settings=JSON.parse(s.data.settings)}catch(i){s.data.settings={session:{},user:{}}}else s.data.settings={session:{},user:{}};a.load({name:"ru"},function(i){++e,e===t&&s.emit("ready")}),c.load({link:s.data.query.profile},function(i,n){s.data.profile=n,++e,s.data.profile.authDomain&&s.data.profile.apiDomain?d.init(s.data.settings,function(){++e,e===t&&s.emit("ready")}):(++e,e===t&&s.emit("ready"))})},ready:function(){n.init([i(16),i(18),i(8),i(17)]),d.session.accessToken?n.navigate("pageMain"):n.navigate("pageLogin")},done:function(){},unload:function(){}}),gSTB.InitPlayer()},function(e,t,i){"use strict";var s,n=i(6);s=new n,s.current=null,s.history=[],s.pages=[],s.ids={},s.init=function(e){var t,i,s;if(e){for(this.pages=[],this.pages=e,t=0,i=e.length;i>t;t++)s=e[t],this.ids[s.id]=s,s.active&&(this.current=s);return this.events.init&&this.emit("init",{pages:e}),!0}return!1},s.parse=function(e){var t={name:"",data:[]};return t.data=e.split("/").map(decodeURIComponent),t.name=t.data.shift().slice(1),t},s.stringify=function(e,t){return t=Array.isArray(t)?t:[],e=encodeURIComponent(e),t=t.map(encodeURIComponent),t.unshift(e),t.join("/")},s.show=function(e,t){return e&&!e.active?(e.$node.classList.add("active"),e.active=!0,this.current=e,e.events.show&&e.emit("show",{page:e,data:t}),!0):!1},s.hide=function(e){return e&&e.active?(e.$node.classList.remove("active"),e.active=!1,this.current=null,e.events.hide&&e.emit("hide",{page:e}),!0):!1},s.navigate=function(e,t){var i=this.current,s=this.ids[e];return s&&!s.active?(location.hash=this.stringify(e,t),this.hide(this.current),this.show(s,t),this.events.navigate&&this.emit("navigate",{from:i,to:s}),this.history.push(s),!0):!1},s.back=function(){var e,t;return this.history.length>1&&(e=this.history.pop(),t=this.history[this.history.length-1],t&&!t.active)?(location.hash=t.id,this.hide(this.current),this.show(t),this.events.navigate&&this.emit("navigate",{from:e,to:t}),!0):!1},e.exports=s},function(e,t,i){"use strict";e.exports={back:8,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(e,t,i){"use strict";function s(e){var t,i=this;if(e=e||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!e.propagate,n.call(this,e.data),this.$node=e.$node||document.createElement("div"),this.$body=e.$body||this.$node,this.$node.className+=" component "+(e.className||""),this.id=e.id||this.$node.id||"cid"+a++,e.parent&&e.parent.add(this),e.visible===!1&&this.hide(),e.focusable===!1&&(this.focusable=!1),this.defaultEvents){e.events=e.events||{};for(t in this.defaultEvents)e.events[t]=e.events[t]||this.defaultEvents[t]}e.events&&this.addListeners(e.events),e.children&&this.add.apply(this,e.children),this.$node.addEventListener("click",function(e){0===e.button&&(i.focus(),i.events.click&&i.emit("click",{event:e})),e.stopPropagation()})}var n=i(6),o=i(1),a=0;s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.defaultEvents=null,s.prototype.add=function(e){var t;for(t=0;t<arguments.length;t++)e=arguments[t],this.children.push(e),e.parent=this,e.$node&&null===e.$node.parentNode&&this.$body.appendChild(e.$node),this.events.add&&this.emit("add",{item:e})},s.prototype.remove=function(){this.parent&&(o.current.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(e){e.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.events.remove&&this.emit("remove")},s.prototype.focus=function(e){var t=o.current,i=t.activeComponent;return this.focusable&&this!==i?(i&&i.blur(),t.activeComponent=i=this,i.$node.classList.add("focus"),i.events.focus&&i.emit("focus",e),!0):!1},s.prototype.blur=function(){var e=o.current,t=e.activeComponent;return this.$node.classList.remove("focus"),this===t?(e.activeComponent=null,this.events.blur&&this.emit("blur"),!0):!1},s.prototype.show=function(e){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.events.show&&this.emit("show",e),!0)},s.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.events.hide&&this.emit("hide"),!0):!0},e.exports=s},function(e,t,i){"use strict";var s,n,o=i(20),a=i(1),r=i(2),c={};i(21),window.parent&&window.parent.gSTB&&(window.dvbManager=window.parent.dvbManager,window.epgManager=window.parent.epgManager,window.gSTB=window.parent.gSTB,window.pvrManager=window.parent.pvrManager,window.stbDownloadManager=window.parent.stbDownloadManager,window.stbStorage=window.parent.stbStorage,window.stbUpdate=window.parent.stbUpdate,window.stbUPnP=window.parent.stbUPnP,window.stbWebWindow=window.parent.stbWebWindow,window.stbWindowMgr=window.parent.stbWindowMgr,window.timeShift=window.parent.timeShift),s=new o({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),s.setScreen=function(e){var t;return e?(e.availHeight=e.height-(e.availTop+e.availBottom),e.availWidth=e.width-(e.availLeft+e.availRight),window.moveTo(0,0),window.resizeTo(e.width,e.height),t=document.querySelector("link[rel=stylesheet]"),t&&t instanceof HTMLLinkElement&&document.head.removeChild(t),t=document.createElement("link"),t.rel="stylesheet",t.href="css/release."+e.height+".css?"+ +new Date,document.head.appendChild(t),this.data.metrics=e,!0):!1},s.EVENT_END_OF_FILE=1,s.EVENT_GET_MEDIA_INFO=2,s.EVENT_PLAYBACK_BEGIN=4,s.EVENT_CONTENT_ERROR=5,s.EVENT_DUAL_MONO_DETECT=6,s.EVENT_INFO_GET=7,s.EVENT_SUBTITLE_LOAD_ERROR=8,s.EVENT_SUBTITLE_FIND=9,s.EVENT_HDMI_CONNECT=32,s.EVENT_HDMI_DISCONNECT=33,s.EVENT_RECORD_FINISH_SUCCESSFULL=34,s.EVENT_RECORD_FINISH_ERROR=35,s.EVENT_DVB_SCANING=40,s.EVENT_DVB_FOUND=41,s.EVENT_DVB_CHANELL_EPG_UPDATE=42,s.EVENT_DVB_ANTENNA_OFF=43,s.setScreen(i(28)[screen.height]);for(n in r)"volumeUp"!==n&&"volumeDown"!==n&&(c[r[n]]=!0);s.defaultEvents={load:function(e){s.data.time.load=e.timeStamp,s.events[e.type]&&s.emit(e.type,e),a.pages.forEach(function(t){t.events[e.type]&&t.emit(e.type,e)}),s.data.time.done=+new Date,s.events.done&&s.emit("done",e)},unload:function(e){s.events[e.type]&&s.emit(e.type,e),a.pages.forEach(function(t){t.events[e.type]&&t.emit(e.type,e)})},error:function(e){},keydown:function(e){var t,i=a.current;0!==e.keyCode&&(e.code=e.keyCode,e.shiftKey&&(e.code+=1e3),e.altKey&&(e.code+=2e3),t=i.activeComponent,t&&t!==i&&(t.events[e.type]&&t.emit(e.type,e),!e.stop&&t.propagate&&t.parent&&t.parent.events[e.type]&&t.parent.emit(e.type,e)),e.stop||(i.events[e.type]&&i.emit(e.type,e),e.stop||s.events[e.type]&&s.emit(e.type,e)),s.data.host&&c[e.code]&&e.preventDefault())},keypress:function(e){var t=a.current;t.activeComponent&&t.activeComponent!==t&&t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e)},click:function(e){},contextmenu:function(e){e.preventDefault()},mousewheel:function(e){var t=a.current;t.activeComponent&&t.activeComponent!==t&&t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e),e.stop||t.events[e.type]&&t.emit(e.type,e)}};for(n in s.defaultEvents)window.addEventListener(n,s.defaultEvents[n]);window.stbEvent={},window.stbEvent.onEvent=function(e,t){if(Array.prototype.forEach.call(window.frames,function(i){i.stbEvent&&i.stbEvent.onEvent&&i.stbEvent.onEvent(e,t)}),s.events.media){if(t)try{t=JSON.parse(t)}catch(i){}s.emit("media",{code:parseInt(e,10),info:t})}},window.stbEvent.onBroadcastMessage=function(e,t,i){Array.prototype.forEach.call(window.frames,function(s){s.stbEvent&&s.stbEvent.onBroadcastMessage&&s.stbEvent.onBroadcastMessage(e,t,i)}),s.events.message&&s.emit("message",{broadcast:!0,windowId:e,message:t,data:i})},window.stbEvent.onMessage=function(e,t,i){Array.prototype.forEach.call(window.frames,function(s){s.stbEvent&&s.stbEvent.onMessage&&s.stbEvent.onMessage(e,t,i)}),s.events.message&&s.emit("message",{broadcast:!1,windowId:e,message:t,data:i})},window.stbEvent.onMount=function(e){Array.prototype.forEach.call(window.frames,function(t){t.stbEvent&&t.stbEvent.onMount&&t.stbEvent.onMount(e)}),s.events["device:mount"]&&s.emit("device:mount",{state:e})},window.stbEvent.onMediaAvailable=function(e,t){Array.prototype.forEach.call(window.frames,function(i){i.stbEvent&&i.stbEvent.onMediaAvailable&&i.stbEvent.onMediaAvailable(e,t)}),s.events["media:available"]&&s.emit("media:available",{mime:e,url:t})},window.stbEvent.onNetworkStateChange=function(e){s.events["internet:state"]&&s.emit("internet:state",{state:e})},window.stbEvent.onWebBrowserProgress=function(e){Array.prototype.forEach.call(window.frames,function(t){t.stbEvent&&t.stbEvent.onWebBrowserProgress&&t.stbEvent.onWebBrowserProgress(e)}),s.events["browser:progress"]&&s.emit("browser:progress",{progress:e})},window.stbEvent.onWindowActivated=function(){Array.prototype.forEach.call(window.frames,function(e){e.stbEvent&&e.stbEvent.onWindowActivated&&e.stbEvent.onWindowActivated()}),s.events["window:focus"]&&s.emit("window:focus")},window.gSTB&&gSTB.SetNativeStringMode&&gSTB.SetNativeStringMode(!0),e.exports=s},function(e,t,i){"use strict";function s(e){e=e||{},this.active=!1,this.activeComponent=null,e.className="page "+(e.className||""),n.call(this,e),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var n=i(3);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,e.exports=s},function(e,t,i){"use strict";function s(){this.events={}}s.prototype={addListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},once:function(e,t){var i=this;this.events[e]=this.events[e]||[],this.events[e].push(function s(n){t(n),i.removeListener(e,s)})},addListeners:function(e){var t;if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&this.addListener(t,e[t])},removeListener:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}),0===this.events[e].length&&(this.events[e]=void 0))},removeAllListeners:function(e){0===arguments.length?this.events={}:e&&(this.events[e]=void 0)},emit:function(e,t){var i,s=this.events[e];if(s)for(i=0;i<s.length;i++)s[i].call(this,t)}},s.prototype.constructor=s,e.exports=s},function(e,t,i){"use strict";var s=i(4),n=i(1),o=i(12),a={session:{accessToken:null,refreshToken:null},request:function(e,t){var i,r,c,d=this,l=new XMLHttpRequest;if(t=t||function(){},l.open(e.method,e.url,!0),this.session.accessToken&&l.setRequestHeader("Authorization","Bearer "+d.session.accessToken),e.headers&&"object"==typeof e.headers)for(i=Object.keys(e.headers),c=i.length,r=0;c>r;r++)l.setRequestHeader(i[r],e.headers[i[r]]);l.onload=function(){if(200===this.status)try{t(JSON.parse(this.responseText),!1)}catch(i){t([],!0)}else 401===this.status&&d.session.refreshToken?d.auth.refreshToken(function(i){i?d.request(e,t):d.auth.login({password:"",login:""},function(i,s){i?d.request(e,t):"invalid_client"===s.error?n.navigate("pageLogin"):t([],!1)})}):t([],this.status)},l.onerror=function(){s.data.settings.session=a.session,s.data.settings.user=a.user,gSTB.SaveUserData(o.file,JSON.stringify(s.data.settings)),t([],!0)},l.send(e.body||null)},init:function(e,t){var i=this;e=e||{session:{},user:{}},e.session.refreshToken&&e.user.id?(this.session.refreshToken=e.session.refreshToken,this.user.id=e.user.id,this.auth.refreshToken(function(e){e?(t(),i.user.ping()):i.auth.login({password:"",login:""},t)})):this.auth.login({password:"",login:""},t)}};a.auth={login:function(e,t){var i=Math.random().toString(36).substring(2),n=new XMLHttpRequest;n.open("POST",s.data.profile.authDomain,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i=i+"."+gSTB.GetUID("device_id",i),n.onload=function(){var e;if(200===this.status){try{e=JSON.parse(this.responseText)}catch(i){e={}}e.access_token&&e.user_id?(a.session.accessToken=e.access_token,a.session.refreshToken=e.refresh_token,a.user.id=e.user_id,s.data.settings.session=a.session,s.data.settings.user=a.user,gSTB.SaveUserData(o.file,JSON.stringify(s.data.settings)),t(!0,!1)):t(!1,e)}else t(!1)},n.onerror=function(){t(!1)},n.send("grant_type=password&username="+e.login+"&password="+e.password+"&mac="+gSTB.GetDeviceMacAddress()+"&serial_number="+gSTB.GetDeviceSerialNumber()+"&stb_type="+gSTB.GetDeviceModelExt()+"&device_id="+gSTB.GetUID()+"&device_id2="+i)},refreshToken:function(e){var t=new XMLHttpRequest;t.open("POST",s.data.profile.authDomain,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(){var t;if(200===this.status){try{t=JSON.parse(this.responseText)}catch(i){t={}}t.access_token&&t.user_id?(a.session.accessToken=t.access_token,a.session.refreshToken=t.refresh_token,a.user.id=t.user_id,s.data.settings.session=a.session,s.data.settings.user=a.user,gSTB.SaveUserData(o.file,JSON.stringify(s.data.settings)),e(!0)):e(!1)}else e(!1)},t.onerror=function(){e(!1)},t.send("grant_type=refresh_token&refresh_token="+a.session.refreshToken)}},a.user={id:null,settings:null,ping:function(e){a.request({method:"GET",headers:{Accept:"application/json"},url:s.data.profile.apiDomain+"users/"+this.id+"/ping"},e)},settingsLoad:function(e){a.request({method:"GET",headers:{Accept:"application/json"},url:s.data.profile.apiDomain+"users/"+this.id+"/settings"},e)}},e.exports=a},function(e,t,i){"use strict";var s=i(5),n=i(27),o=i(26),a=i(1),r=i(4),c=i(2),d=i(7),l=new s({$node:window.pageApps}),h="stalkerAccessToken",u=stbStorage.getItem(h),p=null;l.add(l.tabList=new n({$node:window.paTabList,zIndex:8})),l.addListener("show",function(e){}),l.run=function(e){var t,i=e.url;u&&(i+=-1===e.url.indexOf("?")?"?access_token="+u:"&access_token="+u),d.session.accessToken&&(i+=-1===i.indexOf("?")?"?accessToken="+d.session.accessToken+"&refreshToken="+d.session.refreshToken+"&userId="+d.user.id+"&apiDomain="+r.data.profile.apiDomain:"&accessToken="+d.session.accessToken+"&refreshToken="+d.session.refreshToken+"&userId="+d.user.id+"&apiDomain="+r.data.profile.apiDomain),t=new o({$node:document.createElement("iframe")}),p=t,l.tabList.$node.style.visibility="hidden",l.$node.style.backgroundColor=e.color,l.$node.style.backgroundImage='url("'+e.icon+'")',t.$node.src=i,t.$node.onload=function(){t.$node.contentWindow.addEventListener("keydown",function(e){e.keyCode===c.channelNext&&e.preventDefault()})},l.tabList.add(t),t.show()},window.addEventListener("message",function(e){a.current===l&&("show"===e.data?(l.$node.style.backgroundColor="transparent",l.$node.style.backgroundImage="none",l.tabList.$node.style.visibility="inherit",p.$node.focus()):"hide"===e.data?(a.navigate("pageMain"),document.body.focus()):-1!==e.data.indexOf("access_token:")&&(u=e.data.substr("access_token:".length),stbStorage.setItem(h,u)))}),r.addListener("message",function(e){if(a.current===l&&!e.broadcast)switch(e.message){case"show":l.$node.style.backgroundColor="transparent",l.$node.style.backgroundImage="none",l.tabList.$node.style.visibility="inherit";break;case"hide":case"close":a.navigate("pageMain"),document.body.focus()}}),e.exports=l},function(e,t,i){"use strict";function s(e){"error"===e.type,a--,r[this.group]--,o.events.link&&o.emit("link",{url:this.src,group:this.group}),0===r[this.group]&&o.events.group&&o.emit("group",{name:this.group}),0===a&&o.events.done&&o.emit("done")}var n=i(6),o=new n,a=0,r={};o.add=function(e){e.forEach(function(e){var t=new Image,i=e.url||e,n=e.group||"";a++,r[n]=void 0===r[n]?1:r[n]+1,t.src=i,t.group=n,t.onload=t.onerror=t.ontimeout=s})},e.exports=o},function(e,t,i){"use strict";e.exports=function(e){var t=Array.prototype.slice.call(arguments,1),i=/{(\d+)}/g;return e.replace(i,function(e,i){return void 0!==t[i]?t[i]:e})}},function(e,t,i){"use strict";function s(e){e=e||{},e.className="button "+(e.className||""),n.call(this,e),e.icon&&(this.$icon=this.$body.appendChild(document.createElement("div")),this.$icon.className="icon "+e.icon),this.$text=this.$body.appendChild(document.createElement("div")),this.$text.classList.add("text"),e.value&&(this.$text.innerText=e.value)}var n=i(3),o=i(2);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.clickDuration=200,s.prototype.defaultEvents={click:function(){var e=this;this.$node.classList.add("click"),setTimeout(function(){e.$node.classList.remove("click")},this.clickDuration)},keydown:function(e){e.code===o.ok&&this.events.click&&this.emit("click",{event:e})}},e.exports=s},function(e,t){"use strict";e.exports={file:"launcher.json"}},function(e,t,i){"use strict";function s(e){e=e||{},e.id="page:"+e.name,e.className="appPage",n.call(this,e),this.$node.style.backgroundColor=e.color,this.$node.style.backgroundImage='url("'+e.icon+'")',this.$body=document.createElement("iframe"),this.$body.src=e.url,this.$body.onload=function(){},this.$node.appendChild(this.$body),o.pages.push(this),o.ids[this.id]=this}var n=i(5),o=i(1);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.ready=function(){this.$body.style.visibility="inherit",this.$node.style.background="none",this.$body.focus()},e.exports=s},function(e,t,i){"use strict";function s(e){var t=this;e=e||{},n.call(this,e),this.$node.classList.add("pageApp"),this.$node.style.backgroundColor=e.color,this.$node.style.backgroundImage='url("'+e.icon+'")',e.windowId?(this.windowId=e.windowId,stbWindowMgr.windowShow(this.windowId),o.navigate("pageMain")):(this.windowId=stbWindowMgr.windowInit(JSON.stringify({url:e.src,visible:!1,backgroundColor:e.color})),setTimeout(function(){stbWindowMgr.windowShow(t.windowId),setTimeout(function(){o.navigate("pageMain")},0)},1e3)),o.pages.push(this),o.ids[this.id]=this}var n=i(5),o=i(1);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,e.exports=s},function(e,t,i){"use strict";function s(e,t,i){var s,n,o,a=Math.ceil(e.length/(t*i))||1,r=[],c=0;for(s=0;a>s;s++)for(r[s]=[],n=0;t>n;n++)for(r[s][n]=[],o=0;i>o;o++)r[s][n][o]=e[c]||{disable:!0},c++;return r}function n(e){var t,i,n,c,d=e.menu,l=o.data.metrics.height,h=[],u=0;for(h.push(e.logo=a(e.logo,l)),h.push(e.background=a(e.background,l)),t=0;t<d.length;t++){for(n=d[t],n.offset=u,h.push(n.icons=a(n.icons,l)),i=0;i<n.items.length;i++)c=n.items[i],h.push(c.icon=a(c.icon,l));n.items=s(n.items,o.data.metrics.appMenuRows,o.data.metrics.appMenuCols),u+=n.items.length}return r.add(h),e}var o=i(4),a=i(10),r=i(9),c={};c.load=function(e,t){var i=new XMLHttpRequest;e.link=e.link||"profile.json",i.onload=function(){var e={};try{e=JSON.parse(i.responseText),t(null,n(e))}catch(s){t(s,e)}},i.open("GET",e.link,!0),i.send(null)},e.exports=c},function(e,t,i){"use strict";var s=i(5),n=new s({$node:window.pageInit});e.exports=n},function(e,t,i){"use strict";var s=i(4),n=i(2),o=i(1),a=i(5),r=i(24),c=i(11),d=i(7),l=new a({$node:window.pageLogin}),h=new r({$node:window.plInputLogin,placeholder:gettext("Login"),events:{keydown:function(e){switch(e.code){case n["delete"]:this.removeChar(this.$caret.index);break;case n.back:this.removeChar(this.$caret.index-1);break;case n.left:this.setCaretPosition(this.$caret.index-1);break;case n.right:this.setCaretPosition(this.$caret.index+1);break;case n.end:this.setCaretPosition(this.value.length);break;case n.home:this.setCaretPosition(0);break;case n.down:u.focus()}}}}),u=new r({$node:window.plInputPassword,type:r.prototype.TYPE_PASSWORD,placeholder:gettext("Password"),events:{keydown:function(e){switch(e.code){case n["delete"]:this.removeChar(this.$caret.index);break;case n.back:this.removeChar(this.$caret.index-1);break;case n.left:this.setCaretPosition(this.$caret.index-1);break;case n.right:this.setCaretPosition(this.$caret.index+1);break;case n.end:this.setCaretPosition(this.value.length);break;case n.home:this.setCaretPosition(0);break;case n.down:p.focus();break;case n.up:h.focus()}}}}),p=new c({$node:window.plButtonSubmit,value:gettext("Sign in")});window.plHeader.style.backgroundImage='url("'+s.data.profile.logo+'")',l.addListener("show",function(){h.focus()}),p.addListener("keydown",function(e){e.code===n.up&&u.focus()}),p.addListener("click",function(e){window.plLabelError.className="",0===h.value.length?(window.plLabelError.innerText=gettext("Error.")+" "+gettext("Please, input login"),window.plLabelError.className="visible",h.focus()):0===u.value.length?(window.plLabelError.innerText=gettext("Error.")+" "+gettext("Please, input password"),window.plLabelError.className="visible",u.focus()):d.auth.login({password:u.value,login:h.value},function(e,t){t&&t.error_description?(window.plLabelError.innerText=gettext(t.error_description),window.plLabelError.className="visible",h.focus()):o.navigate("pageMain")})}),e.exports=l},function(e,t,i){"use strict";function s(){var e=new Date,t=(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours()),i=e.getMinutes();window.pmTime.innerText=(t>9?t:"0"+t)+":"+(i>9?i:"0"+i)}function n(){m.user.ping(function(){d=setTimeout(n,l.data.profile.pingTimeout)})}function o(){y.add(a=new f({$node:window.pmArrowLeft,events:{click:function(){}}}),r=new f({$node:window.pmArrowRight,events:{click:function(){}}}),c=new v({$node:window.pmGroupList,size:l.data.profile.menu.length,data:l.data.profile.menu,render:function(e,t){var i=document.createElement("div"),s=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");document.createElement("div");e.innerText=null,t&&(i.className="body",s.className="normal",n.className="active",o.className="title",i.style.backgroundImage='url("'+t.icons+'")',o.style.color=t.color,o.innerText=t.name,i.appendChild(o),e.appendChild(i))},focusIndex:0,type:v.prototype.TYPE_HORIZONTAL,cycle:!1,events:{keydown:function(e){e.code===h.down?b[$].focus():this.defaultEvents.keydown.call(this,event)}}})),l.data.profile.menu.forEach(function(e){e.items.forEach(function(t,i){var s=new w({data:t,render:function(e,t){var i=document.createElement("div"),s=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),h=document.createElement("div"),u=document.createElement("div");return e.innerText=null,void(t&&!t.disable?(i.className="body",s.className="normal",n.className="active",o.className="content",a.className="content",r.className="mark",c.className="mark",h.className="name",u.className="name",d.className="icon",l.className="icon",o.style.backgroundColor=a.style.backgroundColor=t.color,d.style.backgroundImage=l.style.backgroundImage='url("'+t.icon+'")',h.innerText=u.innerText=t.name,t.mark?(r.style.visibility=c.style.visibility="inherit",r.innerText=c.innerText=t.mark):(r.style.visibility=c.style.visibility="hidden",r.innerText=c.innerText=""),o.appendChild(d),o.appendChild(h),o.appendChild(r),a.appendChild(l),a.appendChild(u),a.appendChild(c),s.appendChild(o),n.appendChild(a),i.appendChild(s),i.appendChild(n),e.appendChild(i)):e.innerHTML='<div class="body"></div>')},cycleX:!1,cycleY:!1,events:{focus:function(){window.pmItemDesc.innerText=this.$focusItem.data.info},"focus:item":function(e){window.pmItemDesc.innerText=e.$curr.data.info},"click:item":function(e){void 0!==e.$item.data.type&&"iframe"!==e.$item.data.type?"legacy"===e.$item.data.type?-1===e.$item.data.url.indexOf("?")?location.href=e.$item.data.url+"?referrer="+encodeURIComponent(location.href):location.href=e.$item.data.url+"&referrer="+encodeURIComponent(location.href):"modal"===e.$item.data.type?e.$item.windowId?stbWindowMgr.windowShow(e.$item.windowId)||(e.$item.windowId=stbWindowMgr.windowInit(JSON.stringify({url:e.$item.data.url}))):e.$item.windowId=stbWindowMgr.windowInit(JSON.stringify({url:e.$item.data.url})):"webface"===e.$item.data.type&&(e.$item.windowId?stbWebWindow.messageSend(e.$item.windowId,"show")||(e.$item.windowId=stbWindowMgr.openWebFace(e.$item.data.url)):e.$item.windowId=stbWindowMgr.openWebFace(e.$item.data.url)):(u.navigate(g.id),void 0!==e.$item.index?e.$item.data.type&&"iframe"!==e.$item.data.type?g.run(e.$item.data):(g.tabList.children[e.$item.index].show(),g.tabList.children[e.$item.index].$node.contentWindow.postMessage("show","*"),g.tabList.children[e.$item.index].$node.focus()):(e.$item.index=g.tabList.children.length,g.run(e.$item.data)))},overflow:function(e){var t,i;if(e.direction===h.up&&c.focus(),e.direction===h.down&&this.$focusItem.parentNode.nextSibling){for(t=0,i=this.data[1].length;i>t&&!this.data[1][t].disable;++t);this.focusItem(this.map[1][t-1])}e.direction===h.right&&$<b.length-1&&(b[$].last?(c.focusItem(c.$focusItem.nextSibling),b[$].focus()):(b[$].$node.style.visibility="hidden",$++,b[$].focus(),b[$].$node.style.visibility="inherit")),e.direction===h.left&&$>0&&(b[$].first?(c.focusItem(c.$focusItem.previousSibling),b[$].focus()):(b[$].$node.style.visibility="hidden",$--,b[$].focus(),b[$].$node.style.visibility="inherit")),$>0?a.show():a.hide(),$<b.length-1?r.show():r.hide()},cycle:function(e){var t,i,n,o=c.$focusItem.data;for(e.direction===h.up&&c.focus(),e.direction===h.right&&o.pageIndex++,e.direction===h.left&&o.pageIndex--,s.data=o.items[o.pageIndex],t=0;t<s.data.length;t++)for(n=s.$table.rows[t],i=0;i<s.data[t].length;i++)this.renderItem(n.cells[i],s.data[t][i])}}});0===i&&(s.first=!0),i===e.items.length-1&&(s.last=!0),window.pmGrid.appendChild(s.$node),b.push(s)})}),c.addListener("focus:item",function(e){b[$]&&(b[$].$node.style.visibility="hidden"),$=e.$curr.data.offset,b[$].$node.style.visibility="inherit",$>0?a.show():a.hide(),$<b.length-1?r.show():r.hide()}),b[$].$node.style.visibility="inherit",a.hide(),c.$node.parentNode.style.backgroundImage='url("'+l.data.profile.logo+'")',s(),setInterval(s,1e3)}var a,r,c,d,l=i(4),h=i(2),u=i(1),p=(i(9),i(5)),m=(i(14),i(13),i(7)),f=i(11),v=i(25),w=i(23),g=(i(10),i(8)),y=new p({$node:window.pageMain,focusable:!1}),b=[],$=0;y.addListener("show",function(){b[$].focus()}),o(),m.session.accessToken&&n(),e.exports=y},function(module,exports,__webpack_require__){"use strict";var Emitter=__webpack_require__(6),gettext=new Emitter,meta=null,data=null;gettext.load=function(e,t){var i=new XMLHttpRequest;e.ext=e.ext||"json",e.path=e.path||"lang",i.responseType="text",i.onload=function(){var e;try{e=JSON.parse(i.responseText),meta=e.meta,data=e.data,t(null,data)}catch(s){meta=null,data=null,i.onerror(s)}gettext.events.load&&gettext.emit("load")},i.onerror=function(e){t(e),gettext.events.error&&gettext.emit("error")},i.open("GET",e.path+"/"+e.name+"."+e.ext,!0),i.send(null)},window.gettext=function(e){return data&&data[""][e]?data[""][e]:e},window.pgettext=function(e,t){return data&&data[e][t]?data[e][t]:t},window.ngettext=function(msgId,plural,value){return data&&meta?data[""][msgId][eval("var n = "+value+"; "+meta.plural)]:1===value?msgId:plural},module.exports=gettext},function(e,t,i){"use strict";function s(e){n.call(this),this.data=e||{}}var n=i(6);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.idName="id",s.prototype.clear=function(){var e=this.data;return Object.keys(e).length>0?(this.data={},this.events.clear&&this.emit("clear",{data:e}),!0):!1},s.prototype.init=function(e){return e?(this.clear(),this.data=e,this.events.init&&this.emit("init",{data:e}),!0):!1},s.prototype.has=function(e){return this.data.hasOwnProperty(e)},s.prototype.get=function(e){return this.data[e]},s.prototype.set=function(e,t){var i=e in this.data,s={name:e,curr:t};return i?(s.prev=this.data[e],t!==s.prev?(this.data[e]=t,this.events.change&&this.emit("change",s),!0):!1):(this.data[e]=t,this.events.change&&this.emit("change",s),!0)},s.prototype.unset=function(e){var t,i=e in this.data;return i?(t={name:e,prev:this.data[e]},delete this.data[e],this.events.change&&this.emit("change",t),!0):!1},e.exports=s},function(e,t){"use strict";if(!("classList"in document.documentElement)){var i=Array.prototype,s=i.indexOf,n=i.slice,o=i.push,a=i.splice,r=i.join;window.DOMTokenList=function(e){if(this._element=e,e.className!==this._classCache){if(this._classCache=e.className,!this._classCache)return;var t,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(t=0;t<i.length;t++)o.call(this,i[t])}},window.DOMTokenList.prototype={add:function(e){this.contains(e)||(o.call(this,e),this._element.className=n.call(this,0).join(" "))},contains:function(e){return-1!==s.call(this,e)},item:function(e){return this[e]||null},remove:function(e){var t=s.call(this,e);-1!==t&&(a.call(this,t,1),this._element.className=n.call(this,0).join(" "))},toString:function(){return r.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(e,t){"use strict";e.exports=function(e){var t={};return e.split("&").forEach(function(e){e=e.split("="),2===e.length&&(t[e[0]]=decodeURIComponent(e[1]))}),t}},function(e,t,i){"use strict";function s(e){e=e||{},this.map=[],this.$focusItem=null,this.data=[],this.cycleX=!0,this.cycleY=!0,this.focusX=0,this.focusY=0,e.className="grid "+(e.className||""),r.call(this,e),this.init(e)}function n(e){var t,i,s;for(t=0;t<e.length;t++)for(i=0;i<e[t].length;i++)s=e[t][i],"object"!=typeof s?s=e[t][i]={value:e[t][i],colSpan:1,rowSpan:1}:(s.colSpan=s.colSpan||1,s.rowSpan=s.rowSpan||1);return e}function o(e,t,i,s,n,o){var a,r;for(a=i;i+n>a;a++){for(e.length<a+1&&e.push([]);void 0!==e[a][t];)t++;for(r=t;t+s>r;r++)e[a].length<r+1&&e[a].push(),e[a][r]=o,void 0===o.x&&(o.x=r),void 0===o.y&&(o.y=a)}}function a(e){var t,i,s,n=[];for(t=0;t<e.length;t++)for(i=0;i<e[t].length;i++)s=e[t][i],o(n,i,t,s.colSpan,s.rowSpan,s.$item),delete s.$item;return n}var r=i(3),c=i(2);s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.renderItemDefault=function(e,t){e.innerText=t.value},s.prototype.renderItem=s.prototype.renderItemDefault,s.prototype.defaultEvents={mousewheel:function(e){e.wheelDeltaY&&this.move(e.wheelDeltaY>0?c.up:c.down),e.wheelDeltaX&&this.move(e.wheelDeltaX>0?c.left:c.right)},keydown:function(e){switch(e.code){case c.up:case c.down:case c.right:case c.left:this.move(e.code);break;case c.ok:this.events["click:item"]&&this.emit("click:item",{$item:this.$focusItem,event:e})}}},s.prototype.init=function(e){var t,i,s,o,r,c,d,l,h=this,u=!1,p=function(e){this.data.disable!==!0&&(h.focusItem(this),h.events["click:item"]&&h.emit("click:item",{$item:this,event:e}))},m=function(l){if(l&&h.data!==l&&(h.data=l,u=!0),e.render&&h.renderItem!==e.render&&(h.renderItem=e.render,u=!0),u){for(h.$table=document.createElement("table"),r=document.createElement("tbody"),h.data=n(h.data),t=0;t<h.data.length;t++){for(s=r.insertRow(),i=0;i<h.data[t].length;i++)o=s.insertCell(-1),o.className="item",d=h.data[t][i],d.$item=o,o.colSpan=d.colSpan,o.rowSpan=d.rowSpan,d.focus&&(c=o),d.disable&&o.classList.add("disable"),d.mark&&o.classList.add("mark"),h.renderItem(o,d),o.data=d,o.addEventListener("click",p);r.appendChild(s)}h.map=a(h.data),h.$body.innerText=null,h.$table.appendChild(r),h.$body.appendChild(h.$table),c?h.focusItem(c):h.focusItem(h.map[0][0])}};void 0!==e.cycleX&&(this.cycleX=e.cycleX),void 0!==e.cycleY&&(this.cycleY=e.cycleY),
e.provider&&(this.provider=e.provider,this.sizeX=e.sizeX,this.sizeY=e.sizeY),e.translate&&(this.translate=e.translate),e.provider?(l=this.provider.get(null,function(e,t){e&&h.events["data:error"]&&h.emit("data:error",e),m(h.translate(t)),h.events["data:ready"]&&h.emit("data:ready")}),this.events["data:get"]&&this.emit("data:get",{fresh:l})):m(e.data)},s.prototype.defaultTranslate=function(e){var t,i,s,n=[];for(t=0;t<this.sizeY;t++){for(s=[],i=0;i<this.sizeX;i++)s[i]=e[t*this.sizeX+i];n[t]=s}return n},s.prototype.translate=s.prototype.defaultTranslate,s.prototype.move=function(e){for(var t,i,s,n=this.focusX,o=this.focusY,a=!0,r=!1,d=!1;a;){switch(e){case c.up:o>0?o--:(this.cycleY&&(o=this.map.length-1,d=!0),r=!0);break;case c.down:o<this.map.length-1?o++:(this.cycleY&&(o=0,d=!0),r=!0);break;case c.right:n<this.map[o].length-1?n++:(this.cycleX&&(n=0,d=!0),r=!0);break;case c.left:n>0?n--:(this.cycleX&&(n=this.map[o].length-1,d=!0),r=!0)}n===this.focusX&&o===this.focusY&&(a=!1),this.map[o][n]!==this.map[this.focusY][this.focusX]&&this.map[o][n].data.disable!==!0&&(a=!1),r&&(a=!1,this.map[o][n].data.disable===!0&&(n=this.focusX,o=this.focusY))}this.focusItem(this.map[o][n]),this.focusX=n,this.focusY=o,r&&(this.provider&&(t=this.provider.get(e,function(e,t){if(e&&self.events["data:error"]&&self.emit("data:error",e),t){for(self.data=self.translate(t),i=0;i<self.sizeY-1;i++)for(s=0;s<self.sizeX;s++)self.renderItem(self.map[i][s],self.data[i][s]);self.events["data:ready"]&&self.emit("data:ready")}}),this.events["data:get"]&&this.emit("data:get",{fresh:t})),this.events.overflow&&this.emit("overflow",{direction:e,cycle:d}))},s.prototype.focusItem=function(e){var t=this.$focusItem;return e&&t!==e&&e.data.disable!==!0?(null!==t&&(t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.focusX=e.x,this.focusY=e.y,this.$focusItem=e,e.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),!0):!1},s.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=s},function(e,t,i){"use strict";function s(e){e=e||{},this.value="",this.type=this.TYPE_TEXT,e.className="input "+(e.className||""),n.call(this,e),this.$line=this.$body.appendChild(document.createElement("div")),this.$line.className="line",this.$caret=this.$line.appendChild(document.createElement("div")),this.$caret.className="caret",this.$placeholder=this.$line.appendChild(document.createElement("div")),this.$placeholder.className="placeholder",this.$caret.index=0,this.init(e)}var n=i(3),o=i(2);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.TYPE_TEXT=0,s.prototype.TYPE_PASSWORD=1,s.prototype.defaultEvents={keypress:function(e){this.addChar(String.fromCharCode(e.keyCode),this.$caret.index)},keydown:function(e){switch(e.code){case o["delete"]:this.removeChar(this.$caret.index);break;case o.back:this.removeChar(this.$caret.index-1);break;case o.left:this.setCaretPosition(this.$caret.index-1);break;case o.right:this.setCaretPosition(this.$caret.index+1);break;case o.end:case o.down:this.setCaretPosition(this.value.length);break;case o.home:case o.up:this.setCaretPosition(0)}}},s.prototype.init=function(e){e.type&&(this.type=e.type),e.value&&this.setValue(e.value),e.placeholder&&(this.$placeholder.innerText=e.placeholder),this.$line.dir=e.direction||"ltr"},s.prototype.addChar=function(e,t){var i=document.createElement("div");t=void 0===t?this.$caret.index:t,0===this.value.length&&this.$line.removeChild(this.$placeholder),i.className="char",this.value=this.value.substring(0,t)+e+this.value.substring(t,this.value.length),++this.$caret.index,this.type===this.TYPE_PASSWORD?i.innerText="*":" "===e?i.innerHTML="&nbsp;":i.innerText=e,t>=this.value.length?(this.$line.appendChild(i),this.$line.appendChild(this.$caret)):(this.$line.insertBefore(this.$caret,this.$line.children[t]),this.$line.insertBefore(i,this.$caret)),this.events.input&&this.emit("input",{value:this.value})},s.prototype.removeChar=function(e){var t=this.value;e=void 0===e?this.$caret.index-1:e,this.value.length>0&&(this.$caret.index===e&&e<this.value.length?this.$line.removeChild(this.$line.children[e+1]):this.$caret.index>e&&(--this.$caret.index,this.$line.removeChild(this.$line.children[e])),this.value=this.value.substring(0,e)+this.value.substring(e+1,this.value.length),this.events.input&&t!==this.value&&this.emit("input",{value:this.value})),0===this.value.length&&this.$line.appendChild(this.$placeholder)},s.prototype.setCaretPosition=function(e){e>=0&&e<=this.value.length&&this.$caret.index!==e&&(this.$line.removeChild(this.$caret),e===this.value.length?this.$line.appendChild(this.$caret):this.$line.insertBefore(this.$caret,this.$line.children[e]),this.$caret.index=e)},s.prototype.setValue=function(e){var t,i,s=this.value.length,n=e.length,o=0;if(e!==this.value){if(n>0){if(this.$placeholder.parentNode===this.$line&&this.$line.removeChild(this.$placeholder),this.$line.removeChild(this.$caret),n!==s)if(i=n-s,i>0)for(o=0;i>o;o++)t=this.$line.appendChild(document.createElement("div")),t.className="char";else for(o=0;o>i;o--)this.$line.removeChild(this.$line.lastChild);for(o=0;n>o;o++)t=this.$line.children[o],this.type===this.TYPE_PASSWORD?t.innerHTML="*":" "===e[o]?t.innerHTML="&nbsp;":t.innerText=e[o];this.value=e,this.$caret.index=n,this.$line.appendChild(this.$caret)}else this.value="",this.$line.innerText="",this.$line.appendChild(this.$caret),this.$line.appendChild(this.$placeholder);this.events.input&&this.emit("input",{value:this.value})}},e.exports=s},function(e,t,i){"use strict";function s(e){e=e||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,e.type&&(this.type=e.type),e.className="list "+(e.className||""),this.type===this.TYPE_HORIZONTAL&&(e.className+=" horizontal"),o.call(this,e),this.init(e)}function n(e){var t,i;for(t=0;t<e.length;t++)i=e[t],"object"!=typeof i&&(i=e[t]={value:e[t]});return e}var o=i(3),a=i(2);s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.TYPE_VERTICAL=1,s.prototype.TYPE_HORIZONTAL=2,s.prototype.renderItemDefault=function(e,t){e.innerText=t.value},s.prototype.renderItem=s.prototype.renderItemDefault,s.prototype.defaultEvents={mousewheel:function(e){this.type===this.TYPE_VERTICAL&&e.wheelDeltaY&&this.move(e.wheelDeltaY>0?a.up:a.down),this.type===this.TYPE_HORIZONTAL&&e.wheelDeltaX&&this.move(e.wheelDeltaX>0?a.left:a.right)},keydown:function(e){switch(e.code){case a.up:case a.down:case a.right:case a.left:case a.pageUp:case a.pageDown:case a.home:case a.end:this.move(e.code);break;case a.ok:this.events["click:item"]&&this.emit("click:item",{$item:this.$focusItem,event:e})}}},s.prototype.init=function(e){var t,i,s=this,o=this.$body.children.length,a=function(e){this.data&&(s.focusItem(this),s.events["click:item"]&&s.emit("click:item",{$item:this,event:e}))};if(void 0!==e.cycle&&(this.cycle=e.cycle),e.scroll&&(this.scroll=e.scroll),e.data&&(this.data=n(e.data)),e.render&&(this.renderItem=e.render),e.size&&(this.size=e.size),this.size!==o)for(o>0&&(this.$body.innerText=null),i=0;i<this.size;i++)t=document.createElement("div"),t.index=i,t.className="item",t.addEventListener("click",a),this.$body.appendChild(t);void 0!==e.viewIndex,this.viewIndex=null,void 0!==e.focusIndex?this.focusIndex(e.focusIndex):this.renderView(e.viewIndex||0)},s.prototype.renderView=function(e){var t,i,s,n,o;if(this.viewIndex!==e){for(n=this.viewIndex,this.viewIndex=o=e,i=0;i<this.size;i++)t=this.$body.children[i],s=this.data[e],s?(t.data=s,t.index=e,this.renderItem(t,s),s.mark?t.classList.add("mark"):t.classList.remove("mark")):(t.data=t.index=void 0,t.innerHTML="&nbsp;"),e++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:n,currIndex:o}),this.events["select:item"]&&this.emit("select:item",{$item:t}),this.scroll&&this.scroll.scrollTo(this.viewIndex),!0}return!1},s.prototype.move=function(e){(e===a.up&&this.type===this.TYPE_VERTICAL||e===a.left&&this.type===this.TYPE_HORIZONTAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling):this.cycle?(this.move(a.end),this.events.cycle&&this.emit("cycle",{direction:e})):this.events.overflow&&this.emit("overflow",{direction:e})),(e===a.down&&this.type===this.TYPE_VERTICAL||e===a.right&&this.type===this.TYPE_HORIZONTAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling):this.cycle?(this.move(a.home),this.events.cycle&&this.emit("cycle",{direction:e})):this.events.overflow&&this.emit("overflow",{direction:e})),e===a.pageUp&&(this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild)),e===a.pageDown&&(this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])),e===a.home&&(this.renderView(0),this.focusItem(this.$body.firstChild)),e===a.end&&(this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]))},s.prototype.focusItem=function(e){var t=this.$focusItem;return e&&t!==e?(null!==t&&(t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.$focusItem=e,this.$focusItem.data=this.data[this.$focusItem.index],e.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),this.events["select:item"]&&this.emit("select:item",{$item:e}),!0):!1},s.prototype.focusIndex=function(e){var t=this.viewIndex||0;e>=t+this.size?(e=e<this.data.length-1?e:this.data.length-1,this.renderView(e-this.size+1),this.focusItem(this.$body.lastChild)):t>e?(e=e>0?e:0,this.renderView(e),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[e-t]))},s.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=s},function(e,t,i){"use strict";function s(e){e=e||{},e.focusable=e.focusable||!1,e.className="tabItem hidden "+(e.className||""),e.visible=null,n.call(this,e),this.visible=!1}var n=i(3);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.show=function(e){var t=null;return this.visible?!0:(this.parent.current&&(t=this.parent.current,t.hide(e)),n.prototype.show.call(this,e),this.parent.current=this,!0)},s.prototype.hide=function(){return n.prototype.hide.call(this)?(this.parent.current=null,!0):!0},e.exports=s},function(e,t,i){"use strict";function s(e){e=e||{},this.current=null,e.focusable=e.focusable||!1,e.className="tabList "+(e.className||""),n.call(this,e),e.current&&e.current.show()}var n=i(3);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,e.exports=s},function(e,t){"use strict";e.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48,appMenuRows:1,appMenuCols:4},576:{height:576,width:720,availTop:24,availBottom:24,availRight:28,availLeft:54,appMenuRows:1,appMenuCols:4},720:{height:720,width:1280,availTop:28,availBottom:28,availRight:50,availLeft:50,appMenuRows:2,appMenuCols:6},1080:{height:1080,width:1920,availTop:42,availBottom:42,availRight:75,availLeft:75,appMenuRows:2,appMenuCols:6}}}]);