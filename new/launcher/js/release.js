/*! launcher: v0.0.1 (webpack: v1.12.2) */
!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=i(6),s=i(1),o=i(18),a=i(15),r=i(12);n.addListeners({load:function(){n.data.query=o(document.location.search.substring(1)),a.load({name:"ru"},function(t){r.load({link:n.data.query.profile},function(t,e){n.data.profile=e,s.init([i(13),i(14),i(7)])})})},done:function(){}}),gSTB.InitPlayer()},function(t,e,i){"use strict";var n,s=i(3);n=new s,n.current=null,n.history=[],n.pages=[],n.ids={},n.init=function(t){var e,i,n;if(t){for(this.pages=[],this.pages=t,e=0,i=t.length;i>e;e++)n=t[e],this.ids[n.id]=n,n.active&&(this.current=n);return this.events.init&&this.emit("init",{pages:t}),!0}return!1},n.parse=function(t){var e={name:"",data:[]};return e.data=t.split("/").map(decodeURIComponent),e.name=e.data.shift().slice(1),e},n.stringify=function(t,e){return e=Array.isArray(e)?e:[],t=encodeURIComponent(t),e=e.map(encodeURIComponent),e.unshift(t),e.join("/")},n.show=function(t,e){return t&&!t.active?(t.$node.classList.add("active"),t.active=!0,this.current=t,t.events.show&&t.emit("show",{page:t,data:e}),!0):!1},n.hide=function(t){return t&&t.active?(t.$node.classList.remove("active"),t.active=!1,this.current=null,t.events.hide&&t.emit("hide",{page:t}),!0):!1},n.navigate=function(t,e){var i=this.current,n=this.ids[t];return n&&!n.active?(location.hash=this.stringify(t,e),this.hide(this.current),this.show(n,e),this.events.navigate&&this.emit("navigate",{from:i,to:n}),this.history.push(n),!0):!1},n.back=function(){var t,e;return this.history.length>1&&(t=this.history.pop(),e=this.history[this.history.length-1],e&&!e.active)?(location.hash=e.id,this.hide(this.current),this.show(e),this.events.navigate&&this.emit("navigate",{from:t,to:e}),!0):!1},t.exports=n},function(t,e,i){"use strict";function n(t){var e,i=this;if(t=t||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!t.propagate,s.call(this,t.data),this.$node=t.$node||document.createElement("div"),this.$body=t.$body||this.$node,this.$node.className+=" component "+(t.className||""),this.id=t.id||this.$node.id||"cid"+a++,t.parent&&t.parent.add(this),t.visible===!1&&this.hide(),t.focusable===!1&&(this.focusable=!1),this.defaultEvents){t.events=t.events||{};for(e in this.defaultEvents)t.events[e]=t.events[e]||this.defaultEvents[e]}t.events&&this.addListeners(t.events),t.children&&this.add.apply(this,t.children),this.$node.addEventListener("click",function(t){0===t.button&&(i.focus(),i.events.click&&i.emit("click",{event:t})),t.stopPropagation()})}var s=i(3),o=i(1),a=0;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.defaultEvents=null,n.prototype.add=function(t){var e;for(e=0;e<arguments.length;e++)t=arguments[e],this.children.push(t),t.parent=this,t.$node&&null===t.$node.parentNode&&this.$body.appendChild(t.$node),this.events.add&&this.emit("add",{item:t})},n.prototype.remove=function(){this.parent&&(o.current.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(t){t.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.events.remove&&this.emit("remove")},n.prototype.focus=function(t){var e=o.current,i=e.activeComponent;return this.focusable&&this!==i?(i&&i.blur(),e.activeComponent=i=this,i.$node.classList.add("focus"),i.events.focus&&i.emit("focus",t),!0):!1},n.prototype.blur=function(){var t=o.current,e=t.activeComponent;return this.$node.classList.remove("focus"),this===e?(t.activeComponent=null,this.events.blur&&this.emit("blur"),!0):!1},n.prototype.show=function(t){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.events.show&&this.emit("show",t),!0)},n.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.events.hide&&this.emit("hide"),!0):!0},t.exports=n},function(t,e,i){"use strict";function n(){this.events={}}n.prototype={addListener:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},once:function(t,e){var i=this;this.events[t]=this.events[t]||[],this.events[t].push(function n(s){e(s),i.removeListener(t,n)})},addListeners:function(t){var e;if("object"==typeof t)for(e in t)t.hasOwnProperty(e)&&this.addListener(e,t[e])},removeListener:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e}),0===this.events[t].length&&(this.events[t]=void 0))},removeAllListeners:function(t){0===arguments.length?this.events={}:t&&(this.events[t]=void 0)},emit:function(t,e){var i,n=this.events[t];if(n)for(i=0;i<n.length;i++)n[i].call(this,e)}},n.prototype.constructor=n,t.exports=n},function(t,e,i){"use strict";t.exports={back:8,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(t,e,i){"use strict";function n(t){t=t||{},this.active=!1,this.activeComponent=null,t.className="page "+(t.className||""),s.call(this,t),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var s=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,t.exports=n},function(t,e,i){"use strict";var n,s,o=i(16),a=i(1),r=i(4),c={};i(17),window.parent&&window.parent.gSTB&&(window.dvbManager=window.parent.dvbManager,window.epgManager=window.parent.epgManager,window.gSTB=window.parent.gSTB,window.pvrManager=window.parent.pvrManager,window.stbDownloadManager=window.parent.stbDownloadManager,window.stbStorage=window.parent.stbStorage,window.stbUpdate=window.parent.stbUpdate,window.stbUPnP=window.parent.stbUPnP,window.stbWebWindow=window.parent.stbWebWindow,window.stbWindowMgr=window.parent.stbWindowMgr,window.timeShift=window.parent.timeShift),n=new o({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),n.setScreen=function(t){var e;return t?(t.availHeight=t.height-(t.availTop+t.availBottom),t.availWidth=t.width-(t.availLeft+t.availRight),window.moveTo(0,0),window.resizeTo(t.width,t.height),e=document.querySelector("link[rel=stylesheet]"),e&&e instanceof HTMLLinkElement&&document.head.removeChild(e),e=document.createElement("link"),e.rel="stylesheet",e.href="css/release."+t.height+".css?"+ +new Date,document.head.appendChild(e),this.data.metrics=t,!0):!1},n.EVENT_END_OF_FILE=1,n.EVENT_GET_MEDIA_INFO=2,n.EVENT_PLAYBACK_BEGIN=4,n.EVENT_CONTENT_ERROR=5,n.EVENT_DUAL_MONO_DETECT=6,n.EVENT_INFO_GET=7,n.EVENT_SUBTITLE_LOAD_ERROR=8,n.EVENT_SUBTITLE_FIND=9,n.EVENT_HDMI_CONNECT=32,n.EVENT_HDMI_DISCONNECT=33,n.EVENT_RECORD_FINISH_SUCCESSFULL=34,n.EVENT_RECORD_FINISH_ERROR=35,n.EVENT_DVB_SCANING=40,n.EVENT_DVB_FOUND=41,n.EVENT_DVB_CHANELL_EPG_UPDATE=42,n.EVENT_DVB_ANTENNA_OFF=43,n.setScreen(i(24)[screen.height]);for(s in r)"volumeUp"!==s&&"volumeDown"!==s&&(c[r[s]]=!0);n.defaultEvents={load:function(t){n.data.time.load=t.timeStamp,n.events[t.type]&&n.emit(t.type,t),a.pages.forEach(function(e){e.events[t.type]&&e.emit(t.type,t)}),n.data.time.done=+new Date,n.events.done&&n.emit("done",t)},unload:function(t){n.events[t.type]&&n.emit(t.type,t),a.pages.forEach(function(e){e.events[t.type]&&e.emit(t.type,t)})},error:function(t){},keydown:function(t){var e,i=a.current;0!==t.keyCode&&(t.code=t.keyCode,t.shiftKey&&(t.code+=1e3),t.altKey&&(t.code+=2e3),e=i.activeComponent,e&&e!==i&&(e.events[t.type]&&e.emit(t.type,t),!t.stop&&e.propagate&&e.parent&&e.parent.events[t.type]&&e.parent.emit(t.type,t)),t.stop||(i.events[t.type]&&i.emit(t.type,t),t.stop||n.events[t.type]&&n.emit(t.type,t)),n.data.host&&c[t.code]&&t.preventDefault())},keypress:function(t){var e=a.current;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t)},click:function(t){},contextmenu:function(t){t.preventDefault()},mousewheel:function(t){var e=a.current;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t),t.stop||e.events[t.type]&&e.emit(t.type,t)}};for(s in n.defaultEvents)window.addEventListener(s,n.defaultEvents[s]);window.stbEvent={},window.stbEvent.onEvent=function(t,e){if(Array.prototype.forEach.call(window.frames,function(i){i.stbEvent&&i.stbEvent.onEvent&&i.stbEvent.onEvent(t,e)}),n.events.media){if(e)try{e=JSON.parse(e)}catch(i){}n.emit("media",{code:parseInt(t,10),info:e})}},window.stbEvent.onBroadcastMessage=function(t,e,i){Array.prototype.forEach.call(window.frames,function(n){n.stbEvent&&n.stbEvent.onBroadcastMessage&&n.stbEvent.onBroadcastMessage(t,e,i)}),n.events.message&&n.emit("message",{broadcast:!0,windowId:t,message:e,data:i})},window.stbEvent.onMessage=function(t,e,i){Array.prototype.forEach.call(window.frames,function(n){n.stbEvent&&n.stbEvent.onMessage&&n.stbEvent.onMessage(t,e,i)}),n.events.message&&n.emit("message",{broadcast:!1,windowId:t,message:e,data:i})},window.stbEvent.onMount=function(t){Array.prototype.forEach.call(window.frames,function(e){e.stbEvent&&e.stbEvent.onMount&&e.stbEvent.onMount(t)}),n.events["device:mount"]&&n.emit("device:mount",{state:t})},window.stbEvent.onMediaAvailable=function(t,e){Array.prototype.forEach.call(window.frames,function(i){i.stbEvent&&i.stbEvent.onMediaAvailable&&i.stbEvent.onMediaAvailable(t,e)}),n.events["media:available"]&&n.emit("media:available",{mime:t,url:e})},window.stbEvent.onNetworkStateChange=function(t){n.events["internet:state"]&&n.emit("internet:state",{state:t})},window.stbEvent.onWebBrowserProgress=function(t){Array.prototype.forEach.call(window.frames,function(e){e.stbEvent&&e.stbEvent.onWebBrowserProgress&&e.stbEvent.onWebBrowserProgress(t)}),n.events["browser:progress"]&&n.emit("browser:progress",{progress:t})},window.stbEvent.onWindowActivated=function(){Array.prototype.forEach.call(window.frames,function(t){t.stbEvent&&t.stbEvent.onWindowActivated&&t.stbEvent.onWindowActivated()}),n.events["window:focus"]&&n.emit("window:focus")},window.gSTB&&gSTB.SetNativeStringMode&&gSTB.SetNativeStringMode(!0),t.exports=n},function(t,e,i){"use strict";var n=i(5),s=i(23),o=i(22),a=i(1),r=new n({$node:window.pageApps}),c="stalkerAccessToken",d=stbStorage.getItem(c),l=null;r.add(r.tabList=new s({$node:window.paTabList,zIndex:8})),r.addListener("show",function(t){}),r.run=function(t){var e=new o({$node:document.createElement("iframe")});l=e,r.tabList.$node.style.visibility="hidden",r.$node.style.backgroundColor=t.color,r.$node.style.backgroundImage='url("'+t.icon+'")',d?-1===t.url.indexOf("?")?e.$node.src=t.url+"?access_token="+d:e.$node.src=t.url+"&access_token="+d:e.$node.src=t.url,e.$node.onload=function(){},r.tabList.add(e),e.show()},window.addEventListener("message",function(t){a.current===r&&("show"===t.data?(r.$node.style.backgroundColor="transparent",r.$node.style.backgroundImage="none",r.tabList.$node.style.visibility="inherit",l.$node.focus()):"hide"===t.data?(a.navigate("pageMain"),document.body.focus()):-1!==t.data.indexOf("access_token:")&&(d=t.data.substr("access_token:".length),stbStorage.setItem(c,d)))}),t.exports=r},function(t,e,i){"use strict";function n(t){"error"===t.type,a--,r[this.group]--,o.events.link&&o.emit("link",{url:this.src,group:this.group}),0===r[this.group]&&o.events.group&&o.emit("group",{name:this.group}),0===a&&o.events.done&&o.emit("done")}var s=i(3),o=new s,a=0,r={};o.add=function(t){t.forEach(function(t){var e=new Image,i=t.url||t,s=t.group||"";a++,r[s]=void 0===r[s]?1:r[s]+1,e.src=i,e.group=s,e.onload=e.onerror=e.ontimeout=n})},t.exports=o},function(t,e,i){"use strict";t.exports=function(t){var e=Array.prototype.slice.call(arguments,1),i=/{(\d+)}/g;return t.replace(i,function(t,i){return void 0!==e[i]?e[i]:t})}},function(t,e,i){"use strict";function n(t){t=t||{},t.id="page:"+t.name,t.className="appPage",s.call(this,t),this.$node.style.backgroundColor=t.color,this.$node.style.backgroundImage='url("'+t.icon+'")',this.$body=document.createElement("iframe"),this.$body.src=t.url,this.$body.onload=function(){},this.$node.appendChild(this.$body),o.pages.push(this),o.ids[this.id]=this}var s=i(5),o=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.ready=function(){this.$body.style.visibility="inherit",this.$node.style.background="none",this.$body.focus()},t.exports=n},function(t,e,i){"use strict";function n(t){var e=this;t=t||{},s.call(this,t),this.$node.classList.add("pageApp"),this.$node.style.backgroundColor=t.color,this.$node.style.backgroundImage='url("'+t.icon+'")',t.windowId?(this.windowId=t.windowId,stbWindowMgr.windowShow(this.windowId),o.navigate("pageMain")):(this.windowId=stbWindowMgr.windowInit(JSON.stringify({url:t.src,visible:!1,backgroundColor:t.color})),setTimeout(function(){stbWindowMgr.windowShow(e.windowId),setTimeout(function(){o.navigate("pageMain")},0)},1e3)),o.pages.push(this),o.ids[this.id]=this}var s=i(5),o=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,t.exports=n},function(t,e,i){"use strict";function n(t,e,i){var n,s,o,a=Math.ceil(t.length/(e*i))||1,r=[],c=0;for(n=0;a>n;n++)for(r[n]=[],s=0;e>s;s++)for(r[n][s]=[],o=0;i>o;o++)r[n][s][o]=t[c]||{disable:!0},c++;return r}function s(t){var e,i,s,c,d=t.menu,l=o.data.metrics.height,h=[],u=0;for(h.push(t.logo=a(t.logo,l)),h.push(t.background=a(t.background,l)),e=0;e<d.length;e++){for(s=d[e],s.offset=u,h.push(s.icons=a(s.icons,l)),i=0;i<s.items.length;i++)c=s.items[i],h.push(c.icon=a(c.icon,l));s.items=n(s.items,o.data.metrics.appMenuRows,o.data.metrics.appMenuCols),u+=s.items.length}return r.add(h),t}var o=i(6),a=i(9),r=i(8),c={};c.load=function(t,e){var i=new XMLHttpRequest;t.link=t.link||"profile.json",i.onload=function(){var t={};try{t=JSON.parse(i.responseText),e(null,s(t))}catch(n){e(n,t)}},i.open("GET",t.link,!0),i.send(null)},t.exports=c},function(t,e,i){"use strict";var n=i(5),s=new n({$node:window.pageInit});t.exports=s},function(t,e,i){"use strict";function n(){var t=new Date,e=(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours()),i=t.getMinutes();window.pmTime.innerText=(e>9?e:"0"+e)+":"+(i>9?i:"0"+i)}function s(){g.add(o=new f({$node:window.pmArrowLeft,events:{click:function(){}}}),a=new f({$node:window.pmArrowRight,events:{click:function(){}}}),r=new v({$node:window.pmGroupList,size:l.data.profile.menu.length,data:l.data.profile.menu,render:function(t,e){var i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");document.createElement("div");t.innerText=null,e&&(i.className="body",n.className="normal",s.className="active",o.className="title",i.style.backgroundImage='url("'+e.icons+'")',o.style.color=e.color,o.innerText=e.name,i.appendChild(o),t.appendChild(i))},focusIndex:0,type:v.prototype.TYPE_HORIZONTAL,cycle:!1,events:{keydown:function(t){t.code===h.down?b[E].focus():this.defaultEvents.keydown.call(this,event)}}})),l.data.profile.menu.forEach(function(t){t.items.forEach(function(e,i){var n=new w({data:e,render:function(t,e){var i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),h=document.createElement("div"),u=document.createElement("div");return t.innerText=null,void(e&&!e.disable?(i.className="body",n.className="normal",s.className="active",o.className="content",a.className="content",r.className="mark",c.className="mark",h.className="name",u.className="name",d.className="icon",l.className="icon",o.style.backgroundColor=a.style.backgroundColor=e.color,d.style.backgroundImage=l.style.backgroundImage='url("'+e.icon+'")',h.innerText=u.innerText=e.name,e.mark?(r.style.visibility=c.style.visibility="inherit",r.innerText=c.innerText=e.mark):(r.style.visibility=c.style.visibility="hidden",r.innerText=c.innerText=""),o.appendChild(d),o.appendChild(h),o.appendChild(r),a.appendChild(l),a.appendChild(u),a.appendChild(c),n.appendChild(o),s.appendChild(a),i.appendChild(n),i.appendChild(s),t.appendChild(i)):t.innerHTML='<div class="body"></div>')},cycleX:!1,cycleY:!1,events:{"focus:item":function(t){window.pmItemDesc.innerText=t.$curr.data.info},"click:item":function(t){u.navigate(y.id),void 0!==t.$item.index?(y.tabList.children[t.$item.index].show(),y.tabList.children[t.$item.index].$node.contentWindow.postMessage("show","*"),y.tabList.children[t.$item.index].$node.focus()):(t.$item.index=y.tabList.children.length,y.run(t.$item.data))},overflow:function(t){var e,i;if(t.direction===h.up&&r.focus(),t.direction===h.down&&this.$focusItem.parentNode.nextSibling){for(e=0,i=this.data[1].length;i>e&&!this.data[1][e].disable;++e);this.focusItem(this.map[1][e-1])}t.direction===h.right&&E<b.length-1&&(b[E].last?(r.focusItem(r.$focusItem.nextSibling),b[E].focus()):(b[E].$node.style.visibility="hidden",E++,b[E].focus(),b[E].$node.style.visibility="inherit")),t.direction===h.left&&E>0&&(b[E].first?(r.focusItem(r.$focusItem.previousSibling),b[E].focus()):(b[E].$node.style.visibility="hidden",E--,b[E].focus(),b[E].$node.style.visibility="inherit")),E>0?o.show():o.hide(),E<b.length-1?a.show():a.hide()},cycle:function(t){var e,i,s,o=r.$focusItem.data;for(t.direction===h.up&&r.focus(),t.direction===h.right&&o.pageIndex++,t.direction===h.left&&o.pageIndex--,n.data=o.items[o.pageIndex],e=0;e<n.data.length;e++)for(s=n.$table.rows[e],i=0;i<n.data[e].length;i++)this.renderItem(s.cells[i],n.data[e][i])}}});0===i&&(n.first=!0),i===t.items.length-1&&(n.last=!0),window.pmGrid.appendChild(n.$node),b.push(n)})}),r.addListener("focus:item",function(t){b[E]&&(b[E].$node.style.visibility="hidden"),E=t.$curr.data.offset,b[E].$node.style.visibility="inherit",E>0?o.show():o.hide(),E<b.length-1?a.show():a.hide()}),b[E].$node.style.visibility="inherit",o.hide(),r.$node.parentNode.style.backgroundImage='url("'+l.data.profile.logo+'")',n(),setInterval(n,1e3),p.addListener("done",function(){u.navigate("pageMain")})}var o,a,r,c,d,l=i(6),h=i(4),u=i(1),p=i(8),m=i(5),f=(i(11),i(10),i(19)),v=i(21),w=i(20),y=(i(9),i(7)),g=new m({$node:window.pageMain,focusable:!1}),b=[],E=0;g.addListener("show",function(){b[E].focus()}),l.addListener("message",function(t){"app:ready"===t.message&&(stbWebWindow.messageSend(d,"show"),setTimeout(function(){c.$focusItem.firstChild.classList.add("ready"),u.navigate("pageMain")},500))}),s(),t.exports=g},function(module,exports,__webpack_require__){"use strict";var Emitter=__webpack_require__(3),gettext=new Emitter,meta=null,data=null;gettext.load=function(t,e){var i=new XMLHttpRequest;t.ext=t.ext||"json",t.path=t.path||"lang",i.responseType="text",i.onload=function(){var t;try{t=JSON.parse(i.responseText),meta=t.meta,data=t.data,e(null,data)}catch(n){meta=null,data=null,i.onerror(n)}gettext.events.load&&gettext.emit("load")},i.onerror=function(t){e(t),gettext.events.error&&gettext.emit("error")},i.open("GET",t.path+"/"+t.name+"."+t.ext,!0),i.send(null)},window.gettext=function(t){return data&&data[""][t]?data[""][t]:t},window.pgettext=function(t,e){return data&&data[t][e]?data[t][e]:e},window.ngettext=function(msgId,plural,value){return data&&meta?data[""][msgId][eval("var n = "+value+"; "+meta.plural)]:1===value?msgId:plural},module.exports=gettext},function(t,e,i){"use strict";function n(t){s.call(this),this.data=t||{}}var s=i(3);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.idName="id",n.prototype.clear=function(){var t=this.data;return Object.keys(t).length>0?(this.data={},this.events.clear&&this.emit("clear",{data:t}),!0):!1},n.prototype.init=function(t){return t?(this.clear(),this.data=t,this.events.init&&this.emit("init",{data:t}),!0):!1},n.prototype.has=function(t){return this.data.hasOwnProperty(t)},n.prototype.get=function(t){return this.data[t]},n.prototype.set=function(t,e){var i=t in this.data,n={name:t,curr:e};return i?(n.prev=this.data[t],e!==n.prev?(this.data[t]=e,this.events.change&&this.emit("change",n),!0):!1):(this.data[t]=e,this.events.change&&this.emit("change",n),!0)},n.prototype.unset=function(t){var e,i=t in this.data;return i?(e={name:t,prev:this.data[t]},delete this.data[t],this.events.change&&this.emit("change",e),!0):!1},t.exports=n},function(t,e){"use strict";if(!("classList"in document.documentElement)){var i=Array.prototype,n=i.indexOf,s=i.slice,o=i.push,a=i.splice,r=i.join;window.DOMTokenList=function(t){if(this._element=t,t.className!==this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<i.length;e++)o.call(this,i[e])}},window.DOMTokenList.prototype={add:function(t){this.contains(t)||(o.call(this,t),this._element.className=s.call(this,0).join(" "))},contains:function(t){return-1!==n.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var e=n.call(this,t);-1!==e&&(a.call(this,e,1),this._element.className=s.call(this,0).join(" "))},toString:function(){return r.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(t,e){"use strict";t.exports=function(t){var e={};return t.split("&").forEach(function(t){t=t.split("="),2===t.length&&(e[t[0]]=decodeURIComponent(t[1]))}),e}},function(t,e,i){"use strict";function n(t){t=t||{},t.className="button "+(t.className||""),s.call(this,t),t.icon&&(this.$icon=this.$body.appendChild(document.createElement("div")),this.$icon.className="icon "+t.icon),this.$text=this.$body.appendChild(document.createElement("div")),this.$text.classList.add("text"),t.value&&(this.$text.innerText=t.value)}var s=i(2),o=i(4);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.clickDuration=200,n.prototype.defaultEvents={click:function(){var t=this;this.$node.classList.add("click"),setTimeout(function(){t.$node.classList.remove("click")},this.clickDuration)},keydown:function(t){t.code===o.ok&&this.events.click&&this.emit("click",{event:t})}},t.exports=n},function(t,e,i){"use strict";function n(t){t=t||{},this.map=[],this.$focusItem=null,this.data=[],this.cycleX=!0,this.cycleY=!0,this.focusX=0,this.focusY=0,t.className="grid "+(t.className||""),r.call(this,t),this.init(t)}function s(t){var e,i,n;for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)n=t[e][i],"object"!=typeof n?n=t[e][i]={value:t[e][i],colSpan:1,rowSpan:1}:(n.colSpan=n.colSpan||1,n.rowSpan=n.rowSpan||1);return t}function o(t,e,i,n,s,o){var a,r;for(a=i;i+s>a;a++){for(t.length<a+1&&t.push([]);void 0!==t[a][e];)e++;for(r=e;e+n>r;r++)t[a].length<r+1&&t[a].push(),t[a][r]=o,void 0===o.x&&(o.x=r),void 0===o.y&&(o.y=a)}}function a(t){var e,i,n,s=[];for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)n=t[e][i],o(s,i,e,n.colSpan,n.rowSpan,n.$item),delete n.$item;return s}var r=i(2),c=i(4);n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.renderItemDefault=function(t,e){t.innerText=e.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.defaultEvents={mousewheel:function(t){t.wheelDeltaY&&this.move(t.wheelDeltaY>0?c.up:c.down),t.wheelDeltaX&&this.move(t.wheelDeltaX>0?c.left:c.right)},keydown:function(t){switch(t.code){case c.up:case c.down:case c.right:case c.left:this.move(t.code);break;case c.ok:this.events["click:item"]&&this.emit("click:item",{$item:this.$focusItem,event:t})}}},n.prototype.init=function(t){var e,i,n,o,r,c,d,l,h=this,u=!1,p=function(t){this.data.disable!==!0&&(h.focusItem(this),h.events["click:item"]&&h.emit("click:item",{$item:this,event:t}))},m=function(l){if(l&&h.data!==l&&(h.data=l,u=!0),t.render&&h.renderItem!==t.render&&(h.renderItem=t.render,u=!0),u){for(h.$table=document.createElement("table"),r=document.createElement("tbody"),h.data=s(h.data),e=0;e<h.data.length;e++){for(n=r.insertRow(),i=0;i<h.data[e].length;i++)o=n.insertCell(-1),o.className="item",d=h.data[e][i],d.$item=o,o.colSpan=d.colSpan,o.rowSpan=d.rowSpan,d.focus&&(c=o),d.disable&&o.classList.add("disable"),d.mark&&o.classList.add("mark"),h.renderItem(o,d),o.data=d,o.addEventListener("click",p);r.appendChild(n)}h.map=a(h.data),h.$body.innerText=null,h.$table.appendChild(r),h.$body.appendChild(h.$table),c?h.focusItem(c):h.focusItem(h.map[0][0])}};void 0!==t.cycleX&&(this.cycleX=t.cycleX),void 0!==t.cycleY&&(this.cycleY=t.cycleY),t.provider&&(this.provider=t.provider,this.sizeX=t.sizeX,this.sizeY=t.sizeY),t.translate&&(this.translate=t.translate),t.provider?(l=this.provider.get(null,function(t,e){t&&h.events["data:error"]&&h.emit("data:error",t),m(h.translate(e)),h.events["data:ready"]&&h.emit("data:ready")}),this.events["data:get"]&&this.emit("data:get",{fresh:l})):m(t.data)},n.prototype.defaultTranslate=function(t){var e,i,n,s=[];for(e=0;e<this.sizeY;e++){for(n=[],i=0;i<this.sizeX;i++)n[i]=t[e*this.sizeX+i];s[e]=n}return s},n.prototype.translate=n.prototype.defaultTranslate,n.prototype.move=function(t){for(var e,i,n,s=this.focusX,o=this.focusY,a=!0,r=!1,d=!1;a;){switch(t){case c.up:o>0?o--:(this.cycleY&&(o=this.map.length-1,d=!0),r=!0);break;case c.down:o<this.map.length-1?o++:(this.cycleY&&(o=0,d=!0),r=!0);break;case c.right:s<this.map[o].length-1?s++:(this.cycleX&&(s=0,d=!0),r=!0);break;case c.left:s>0?s--:(this.cycleX&&(s=this.map[o].length-1,d=!0),r=!0)}s===this.focusX&&o===this.focusY&&(a=!1),this.map[o][s]!==this.map[this.focusY][this.focusX]&&this.map[o][s].data.disable!==!0&&(a=!1),r&&(a=!1,this.map[o][s].data.disable===!0&&(s=this.focusX,o=this.focusY))}this.focusItem(this.map[o][s]),this.focusX=s,this.focusY=o,r&&(this.provider&&(e=this.provider.get(t,function(t,e){if(t&&self.events["data:error"]&&self.emit("data:error",t),e){for(self.data=self.translate(e),i=0;i<self.sizeY-1;i++)for(n=0;n<self.sizeX;n++)self.renderItem(self.map[i][n],self.data[i][n]);self.events["data:ready"]&&self.emit("data:ready")}}),this.events["data:get"]&&this.emit("data:get",{fresh:e})),this.events.overflow&&this.emit("overflow",{direction:t,cycle:d}))},n.prototype.focusItem=function(t){var e=this.$focusItem;return t&&e!==t&&t.data.disable!==!0?(null!==e&&(e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e})),this.focusX=t.x,this.focusY=t.y,this.$focusItem=t,t.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:e,$curr:t}),!0):!1},n.prototype.markItem=function(t,e){e?t.classList.add("mark"):t.classList.remove("mark"),t.data.mark=e},t.exports=n},function(t,e,i){"use strict";function n(t){t=t||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,t.type&&(this.type=t.type),t.className="list "+(t.className||""),this.type===this.TYPE_HORIZONTAL&&(t.className+=" horizontal"),o.call(this,t),this.init(t)}function s(t){var e,i;for(e=0;e<t.length;e++)i=t[e],"object"!=typeof i&&(i=t[e]={value:t[e]});return t}var o=i(2),a=i(4);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.renderItemDefault=function(t,e){t.innerText=e.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.defaultEvents={mousewheel:function(t){this.type===this.TYPE_VERTICAL&&t.wheelDeltaY&&this.move(t.wheelDeltaY>0?a.up:a.down),this.type===this.TYPE_HORIZONTAL&&t.wheelDeltaX&&this.move(t.wheelDeltaX>0?a.left:a.right)},keydown:function(t){switch(t.code){case a.up:case a.down:case a.right:case a.left:case a.pageUp:case a.pageDown:case a.home:case a.end:this.move(t.code);break;case a.ok:this.events["click:item"]&&this.emit("click:item",{$item:this.$focusItem,event:t})}}},n.prototype.init=function(t){var e,i,n=this,o=this.$body.children.length,a=function(t){this.data&&(n.focusItem(this),n.events["click:item"]&&n.emit("click:item",{$item:this,event:t}))};if(void 0!==t.cycle&&(this.cycle=t.cycle),t.scroll&&(this.scroll=t.scroll),t.data&&(this.data=s(t.data)),t.render&&(this.renderItem=t.render),t.size&&(this.size=t.size),this.size!==o)for(o>0&&(this.$body.innerText=null),i=0;i<this.size;i++)e=document.createElement("div"),e.index=i,e.className="item",e.addEventListener("click",a),this.$body.appendChild(e);void 0!==t.viewIndex,this.viewIndex=null,void 0!==t.focusIndex?this.focusIndex(t.focusIndex):this.renderView(t.viewIndex||0)},n.prototype.renderView=function(t){var e,i,n,s,o;if(this.viewIndex!==t){for(s=this.viewIndex,this.viewIndex=o=t,i=0;i<this.size;i++)e=this.$body.children[i],n=this.data[t],n?(e.data=n,e.index=t,this.renderItem(e,n),n.mark?e.classList.add("mark"):e.classList.remove("mark")):(e.data=e.index=void 0,e.innerHTML="&nbsp;"),t++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:s,currIndex:o}),this.events["select:item"]&&this.emit("select:item",{$item:e}),this.scroll&&this.scroll.scrollTo(this.viewIndex),!0}return!1},n.prototype.move=function(t){(t===a.up&&this.type===this.TYPE_VERTICAL||t===a.left&&this.type===this.TYPE_HORIZONTAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling):this.cycle?(this.move(a.end),this.events.cycle&&this.emit("cycle",{direction:t})):this.events.overflow&&this.emit("overflow",{direction:t})),(t===a.down&&this.type===this.TYPE_VERTICAL||t===a.right&&this.type===this.TYPE_HORIZONTAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling):this.cycle?(this.move(a.home),this.events.cycle&&this.emit("cycle",{direction:t})):this.events.overflow&&this.emit("overflow",{direction:t})),t===a.pageUp&&(this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild)),t===a.pageDown&&(this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])),t===a.home&&(this.renderView(0),this.focusItem(this.$body.firstChild)),t===a.end&&(this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]))},n.prototype.focusItem=function(t){var e=this.$focusItem;return t&&e!==t?(null!==e&&(e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e})),this.$focusItem=t,this.$focusItem.data=this.data[this.$focusItem.index],t.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:e,$curr:t}),this.events["select:item"]&&this.emit("select:item",{$item:t}),!0):!1},n.prototype.focusIndex=function(t){var e=this.viewIndex||0;t>=e+this.size?(t=t<this.data.length-1?t:this.data.length-1,this.renderView(t-this.size+1),this.focusItem(this.$body.lastChild)):e>t?(t=t>0?t:0,this.renderView(t),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[t-e]))},n.prototype.markItem=function(t,e){e?t.classList.add("mark"):t.classList.remove("mark"),t.data.mark=e},t.exports=n},function(t,e,i){"use strict";function n(t){t=t||{},t.focusable=t.focusable||!1,t.className="tabItem hidden "+(t.className||""),t.visible=null,s.call(this,t),this.visible=!1}var s=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,
n.prototype.show=function(t){var e=null;return this.visible?!0:(this.parent.current&&(e=this.parent.current,e.hide(t)),s.prototype.show.call(this,t),this.parent.current=this,!0)},n.prototype.hide=function(){return s.prototype.hide.call(this)?(this.parent.current=null,!0):!0},t.exports=n},function(t,e,i){"use strict";function n(t){t=t||{},this.current=null,t.focusable=t.focusable||!1,t.className="tabList "+(t.className||""),s.call(this,t),t.current&&t.current.show()}var s=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,t.exports=n},function(t,e){"use strict";t.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48,appMenuRows:1,appMenuCols:4},576:{height:576,width:720,availTop:24,availBottom:24,availRight:28,availLeft:54,appMenuRows:1,appMenuCols:4},720:{height:720,width:1280,availTop:28,availBottom:28,availRight:50,availLeft:50,appMenuRows:2,appMenuCols:6},1080:{height:1080,width:1920,availTop:42,availBottom:42,availRight:75,availLeft:75,appMenuRows:2,appMenuCols:6}}}]);