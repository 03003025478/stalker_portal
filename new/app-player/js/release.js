/*! player: v0.0.5 (webpack: v1.13.0) */
!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(5),s=n(3);i.addListeners({load:function(){n(21).load({name:core.environment.language||"en"},function(t){s.init([n(20),n(19),n(9)]),s.pages.forEach(function(t){!t.emit,t.emit("load")}),i.show(),s.navigate("pMain"),i.name="player"}),window._=window.gettext},done:function(){}})},function(t,e,n){"use strict";function i(t){var e,n=this;if(t=t||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!t.propagate,s.call(this,t.data),this.$node=t.$node||document.createElement("div"),this.$body=t.$body||this.$node,this.$node.className+=" component "+(t.className||""),this.id=t.id||this.$node.id||"cid"+a++,t.parent&&t.parent.add(this),t.visible===!1&&this.hide(),t.focusable===!1&&(this.focusable=!1),this.defaultEvents){t.events=t.events||{};for(e in this.defaultEvents)t.events[e]=t.events[e]||this.defaultEvents[e]}t.events&&this.addListeners(t.events),t.children&&this.add.apply(this,t.children),this.$node.addEventListener("click",function(t){0===t.button&&(n.focus(),n.events.click&&n.emit("click",{event:t})),t.stopPropagation()})}var s=n(4),o=n(3),a=0;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.defaultEvents=null,i.prototype.add=function(t){var e;for(e=0;e<arguments.length;e++)t=arguments[e],this.children.push(t),t.parent=this,t.$node&&null===t.$node.parentNode&&this.$body.appendChild(t.$node),this.events.add&&this.emit("add",{item:t})},i.prototype.remove=function(){this.parent&&(o.current.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(t){t.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.events.remove&&this.emit("remove")},i.prototype.focus=function(t){var e=o.current,n=e.activeComponent;return this.focusable&&this!==n?(n&&n.blur(),e.activeComponent=n=this,n.$node.classList.add("focus"),n.events.focus&&n.emit("focus",t),!0):!1},i.prototype.blur=function(){var t=o.current,e=t.activeComponent;return this.$node.classList.remove("focus"),this===e?(t.activeComponent=null,this.events.blur&&this.emit("blur"),!0):!1},i.prototype.show=function(t){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.events.show&&this.emit("show",t),!0)},i.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.events.hide&&this.emit("hide"),!0):!0},t.exports=i},function(t,e){"use strict";t.exports={back:8,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(t,e,n){"use strict";var i,s=n(4);i=new s,i.current=null,i.history=[],i.pages=[],i.ids={},i.init=function(t){var e,n,i;if(t){for(this.pages=[],this.pages=t,e=0,n=t.length;n>e;e++)i=t[e],this.ids[i.id]=i,i.active&&(this.current=i);return this.events.init&&this.emit("init",{pages:t}),!0}return!1},i.parse=function(t){var e={name:"",data:[]};return e.data=t.split("/").map(decodeURIComponent),e.name=e.data.shift().slice(1),e},i.stringify=function(t,e){return e=Array.isArray(e)?e:[],t=encodeURIComponent(t),e=e.map(encodeURIComponent),e.unshift(t),e.join("/")},i.show=function(t,e){return t&&!t.active?(t.$node.classList.add("active"),t.active=!0,this.current=t,t.events.show&&t.emit("show",{page:t,data:e}),!0):!1},i.hide=function(t){return t&&t.active?(t.$node.classList.remove("active"),t.active=!1,this.current=null,t.events.hide&&t.emit("hide",{page:t}),!0):!1},i.navigate=function(t,e){var n=this.current,i=this.ids[t];return i&&!i.active?(location.hash=this.stringify(t,e),this.hide(this.current),this.show(i,e),this.events.navigate&&this.emit("navigate",{from:n,to:i}),this.history.push(i),!0):!1},i.back=function(){var t,e;return this.history.length>1&&(t=this.history.pop(),e=this.history[this.history.length-1],e&&!e.active)?(location.hash=e.id,this.hide(this.current),this.show(e),this.events.navigate&&this.emit("navigate",{from:t,to:e}),!0):!1},t.exports=i},function(t,e,n){"use strict";function i(){this.events={}}i.prototype={addListener:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},once:function(t,e){var n=this;this.events[t]=this.events[t]||[],this.events[t].push(function i(){e.apply(this,arguments),n.removeListener(t,i)})},addListeners:function(t){var e;if("object"==typeof t)for(e in t)t.hasOwnProperty(e)&&this.addListener(e,t[e])},removeListener:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e}),0===this.events[t].length&&(this.events[t]=void 0))},removeAllListeners:function(t){0===arguments.length?this.events={}:t&&(this.events[t]=void 0)},emit:function(t,e,n){var i,s=this.events[t];if(s)for(i=0;i<s.length;i++)s[i].apply(this,Array.prototype.slice.call(arguments,1))}},i.prototype.constructor=i,t.exports=i},function(t,e,n){"use strict";var i,s,o,a,r=n(22),c=n(3),d=n(2),l=n(30),u={};n(23),window.core=window.parent.getCoreInstanse(window),window.core.once("load",function(){i.data.time.load&&i.defaultEvents.load({type:"load"})}),window.localStorage=window.parent.localStorage||window.parent.stbStorage,window.parent&&window.parent.gSTB&&(window.dvbManager=window.parent.dvbManager,window.epgManager=window.parent.epgManager,window.gSTB=window.parent.gSTB,window.pvrManager=window.parent.pvrManager,window.stbDownloadManager=window.parent.stbDownloadManager,window.stbStorage=window.parent.stbStorage,window.stbUpdate=window.parent.stbUpdate,window.stbUPnP=window.parent.stbUPnP,window.stbWebWindow=window.parent.stbWebWindow,window.stbWindowMgr=window.parent.stbWindowMgr,window.timeShift=window.parent.timeShift),i=new r({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),i.setScreen=function(t){return t?(t.availHeight=t.height-(t.availTop+t.availBottom),t.availWidth=t.width-(t.availLeft+t.availRight),window.moveTo(0,0),window.resizeTo(t.width,t.height),o&&o instanceof HTMLLinkElement&&document.head.removeChild(o),a&&a instanceof HTMLLinkElement&&document.head.removeChild(a),a=document.createElement("link"),a.rel="stylesheet",a.href=window.core.theme.path+t.height+".css?"+ +new Date,document.head.appendChild(a),o=document.createElement("link"),o.rel="stylesheet",o.href="css/release."+t.height+".css?"+ +new Date,document.head.appendChild(o),this.data.metrics=t,!0):!1},i.EVENT_END_OF_FILE=1,i.EVENT_GET_MEDIA_INFO=2,i.EVENT_PLAYBACK_BEGIN=4,i.EVENT_CONTENT_ERROR=5,i.EVENT_DUAL_MONO_DETECT=6,i.EVENT_INFO_GET=7,i.EVENT_SUBTITLE_LOAD_ERROR=8,i.EVENT_SUBTITLE_FIND=9,i.EVENT_HDMI_CONNECT=32,i.EVENT_HDMI_DISCONNECT=33,i.EVENT_RECORD_FINISH_SUCCESSFULL=34,i.EVENT_RECORD_FINISH_ERROR=35,i.EVENT_DVB_SCANING=40,i.EVENT_DVB_FOUND=41,i.EVENT_DVB_CHANELL_EPG_UPDATE=42,i.EVENT_DVB_ANTENNA_OFF=43,i.setScreen(l[screen.height]||l[720]);for(s in d)"volumeUp"!==s&&"volumeDown"!==s&&(u[d[s]]=!0);i.defaultEvents={load:function(t){i.data.time.load=t.timeStamp,window.core.ready&&(i.events[t.type]&&i.emit(t.type,t),c.pages.forEach(function(e){e.events[t.type]&&e.emit(t.type,t)}),i.data.time.done=+new Date,i.events.done&&i.emit("done",t))},unload:function(t){i.events[t.type]&&i.emit(t.type,t),c.pages.forEach(function(e){e.events[t.type]&&e.emit(t.type,t)})},error:function(t){},keydown:function(t){var e,n=c.current,s={keyCode:t.keyCode,stop:t.stop,shiftKey:t.shiftKey,altKey:t.altKey,type:t.type,"native":t};0!==s.keyCode&&(s.code=s.keyCode,s.shiftKey&&(s.code+=1e3),s.altKey&&(s.code+=2e3),e=n.activeComponent,e&&e!==n&&(e.events[s.type]&&e.emit(s.type,s),!s.stop&&e.propagate&&e.parent&&e.parent.events[s.type]&&e.parent.emit(s.type,s)),s.stop||(n.events[s.type]&&n.emit(s.type,s),s.stop||i.events[s.type]&&i.emit(s.type,s)),i.data.host&&u[s.code]&&t.preventDefault())},keypress:function(t){var e=c.current;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t)},click:function(t){},contextmenu:function(t){t.preventDefault()},mousewheel:function(t){var e=c.current;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t),t.stop||e.events[t.type]&&e.emit(t.type,t)}};for(s in i.defaultEvents)window.addEventListener(s,i.defaultEvents[s]);i.show=function(){this.events.show&&this.emit("show"),window.core.call("app:ready")},i.exit=function(t){var e,s=n(26),o=n(6),a=c.current.activeComponent;c.current.add(e=new s({title:gettext("Exit"),events:{show:function(){this.children[0].focus()},hide:function(){a.focus()}},children:[new o({size:2,focusIndex:0,data:[{items:[{value:gettext("Exit")}],click:function(){return"function"==typeof t&&t(!0)?(e.hide(),void e.remove()):(i.events.exit&&i.emit("exit"),e.hide(),e.remove(),void core.call("exit"))}},{items:[{value:gettext("Cancel")}],click:function(){"function"==typeof t&&t(!1),e.hide(),e.remove()}}],events:{keydown:function(n){o.prototype.defaultEvents.keydown.call(this,n),n.code===d.back&&(n.stop=!0,"function"==typeof t&&t(!1),e.hide(),e.remove())}}})]})),e.show(),e.focus()},window.stbEvent={},window.stbEvent.onEvent=function(t,e){if(Array.prototype.forEach.call(window.frames,function(n){n.stbEvent&&n.stbEvent.onEvent&&n.stbEvent.onEvent(t,e)}),i.events.media){if(e)try{e=JSON.parse(e)}catch(n){}i.emit("media",{code:parseInt(t,10),info:e})}},window.stbEvent.onBroadcastMessage=function(t,e,n){Array.prototype.forEach.call(window.frames,function(i){i.stbEvent&&i.stbEvent.onBroadcastMessage&&i.stbEvent.onBroadcastMessage(t,e,n)}),i.events.message&&i.emit("message",{broadcast:!0,windowId:t,message:e,data:n})},window.stbEvent.onMessage=function(t,e,n){Array.prototype.forEach.call(window.frames,function(i){i.stbEvent&&i.stbEvent.onMessage&&i.stbEvent.onMessage(t,e,n)}),i.events.message&&i.emit("message",{broadcast:!1,windowId:t,message:e,data:n})},window.stbEvent.onMount=function(t){Array.prototype.forEach.call(window.frames,function(e){e.stbEvent&&e.stbEvent.onMount&&e.stbEvent.onMount(t)}),i.events["device:mount"]&&i.emit("device:mount",{state:t})},window.stbEvent.onMediaAvailable=function(t,e){Array.prototype.forEach.call(window.frames,function(n){n.stbEvent&&n.stbEvent.onMediaAvailable&&n.stbEvent.onMediaAvailable(t,e)}),i.events["media:available"]&&i.emit("media:available",{mime:t,url:e})},window.stbEvent.onNetworkStateChange=function(t){i.events["internet:state"]&&i.emit("internet:state",{state:t})},window.stbEvent.onWebBrowserProgress=function(t){Array.prototype.forEach.call(window.frames,function(e){e.stbEvent&&e.stbEvent.onWebBrowserProgress&&e.stbEvent.onWebBrowserProgress(t)}),i.events["browser:progress"]&&i.emit("browser:progress",{progress:t})},window.stbEvent.onWindowActivated=function(){Array.prototype.forEach.call(window.frames,function(t){t.stbEvent&&t.stbEvent.onWindowActivated&&t.stbEvent.onWindowActivated()}),i.events["window:focus"]&&i.emit("window:focus")},window.gSTB&&gSTB.SetNativeStringMode&&gSTB.SetNativeStringMode(!0),t.exports=i},function(t,e,n){"use strict";function i(t){var e,n=this;t=t||{},this.handlers={},this.$noData=null,t.className="layoutList "+(t.className||""),t.propagate=t.propagate||!0,this.fixedData=t.fixedData||!1,t.$body=document.createElement("div"),t.$body.className="body",this.$noData=document.createElement("div"),this.$noData.className="noData hidden",s.call(this,t),this.$node.appendChild(this.$body),t.noData&&(t.noData instanceof Element?this.$noData.appendChild(t.noData):"string"==typeof t.noData&&(e=document.createElement("div"),e.innerText=t.noData,this.$noData.appendChild(e)),this.$node.appendChild(this.$noData)),this.addListener("click:item",function(t){t.$item.layout.children.length&&!t.inner&&t.$item.layout.children[t.$item.layout.focusIndex].focus(),t.inner&&(n.focus(),n.focusItem(t.$item)),n.handlers[t.$item.index]&&n.handlers[t.$item.index](t.$item)})}var s=n(25),o=n(24);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.renderItemDefault=function(t,e){var n,i;if(t.ready&&this.fixedData&&!t.innerHTML.length)for(i=0;i<e.items.length;i++)"string"==typeof e.items[i].value&&(t.layout.$node.childNodes[i].innerText=e.items[i].value,t.layout.$node.childNodes[i].className=e.items[i].className);else{for(;t.firstChild;)t.removeChild(t.firstChild);n=new o({focusable:!1,data:e.items}),t.appendChild(n.$node),t.layout=n,n.parent=this,n.$parentItem=t,n.addListener("click",function(){this.parent.emit("click:item",{$item:t,inner:!0})}),e.click&&(this.handlers[t.index]=e.click),t.ready=!0}t.value=e.value||{}},i.prototype.setData=function(t){s.prototype.setData.call(this,t),t.data&&t.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},i.prototype.init=function(t){s.prototype.init.call(this,t),t.data&&t.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},i.prototype.renderItem=i.prototype.renderItemDefault,t.exports=i},function(t,e,n){"use strict";function i(t){t.onPlayStart=c,t.onPlayEnd=r,t.onPlayError=d,t.onTracksInfo=o,t.onContentInfo=a}function s(t){t.onPlayStart=function(){},t.onPlayEnd=function(){},t.onPlayError=function(){},t.onTracksInfo=function(){},t.onContentInfo=function(){}}function o(){w&&w.emit("media:info",{audioTracks:g.audioTracks,subtitlesTracks:g.subtitlesTracks})}function a(){w&&w.emit("content:info",{videoInfo:g.videoInfo})}function r(){w&&w.emit("end",{})}function c(){w&&w.emit("start",{})}function d(){w&&w.emit("error",{code:5})}var l,u,h,p=n(4),f=window.qq=n(16),m=new p,v={},b=f.list,g=f.list[0],y=0,w=null,x=1==f.list.length;i(g),f.setAudioSource(g),m.primary={stop:function(){g&&g.stop()},pause:function(){g.pause()},resume:function(){g.resume()},rewind:function(t){g.position+=+t},setAudioPid:function(t){}},m.reset=function(){g=f.list[0],y=0,w=null,l=null,i(g),f.setAudioSource(g),g.fullscreen=!0},Object.defineProperties(m.primary,{duration:{get:function(){return g.duration},set:function(t){g.duration=t}},position:{get:function(){return g.position},set:function(t){g.position=t}},state:{get:function(){return g.state}},aspect:{get:function(){return g.aspectConversion},set:function(t){g.aspectConversion=t}},audioPID:{get:function(){return g.audioPID},set:function(t){g.audioPID=t}},subtitlesPID:{get:function(){return g.subtitlesPID},set:function(t){g.subtitlesPID=t,g.enableSubtitles=!!t}},enableSubtitles:{get:function(){return g.enableSubtitles},set:function(t){g.enableSubtitles=!!t}},videoInfo:{get:function(){return g.videoInfo}},volume:{get:function(){return g.volume},set:function(t){g.volume=+t}}}),f.list.length>1,v.play=function(t,e){var n,i;return t.context?(i=b[t.context.playerId],n=t.context):(i=g,n={playerId:y}),i===g&&(w=t),x?l&&(g=l,i=g,g.fullscreen=!0,l.surface.moveDown(),l=null,h.emit("exit")):l&&f.setAudioSource(g),t.data.uri&&i.play({uri:t.data.uri,solution:t.data.solution}),e&&e(!1,n),{error:!1,context:n}},v.pip=function(t){var e,n={};x?(l=g,l.surface.moveTop(),u=w,g=null):l?(f.swap(l,g),l.stop(),e=l,l=g,g=e,u=w,w=null,y=0,f.setAudioSource(l),l.surface.moveTop(),s(l),i(g)):(g=b[1],y=1,l=b[0],l.surface.moveTop(),s(l),i(g),u=w,w=null),Object.defineProperties(n,{position:{enumerable:!0,get:function(){return l.position}},duration:{enumerable:!0,get:function(){return l.duration}}}),n.title=u.data.title||u.data.uri||"",h=core.intent({action:"pip",mime:t.mime,data:n,events:{viewport:function(t){l.setViewport(t)},pause:function(){l.pause()},resume:function(){l.resume()},maximize:function(){x?(g=l,w=u,g.fullscreen=!0,g.surface.moveDown(),l=null):(g.stop(),g=l,y=0,l=null,w=u,g.fullscreen=!0,g.surface.moveDown(),f.setAudioSource(g),i(g)),t.events.maximize&&t.events.maximize()},swap:function(){var t,e;return x?!1:void(0!==g.state&&(f.swap(l,g),t=l,l=g,g=t,e=w,w=u,u=e,s(u),i(g),f.setAudioSource(g)))},stop:function(){l.stop(),y=0,l=null,g=b[0],g.fullscreen=!0,f.setAudioSource(g),g.surface.moveDown(),i(g)}}},function(t,e){})},m.swap=function(){},m.intent=function(t,e){var n;t&&t.action&&v[t.action]&&(n=v[t.action](t,e))},gSTB.SetTopWin(0),t.exports=m},function(t,e,n){"use strict";function i(t){t=t||{},this.active=!1,this.activeComponent=null,t.className="page "+(t.className||""),s.call(this,t),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var s=n(1);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,t.exports=i},function(t,e,n){"use strict";function i(){var t=S.primary.volume;t=Math.round(t/10),v.focusIndex(t)}function s(){return[{items:o("R",_("Mute")),options:[{items:o("S",_("Mute On")),value:!0},{items:o("R",_("Mute off")),value:!1}],handler:u},{items:o("R",_("Volume level")),options:[0,1,2,3,4,5,6,7,8,9,10].map(function(t){return{items:o("",(10*t).toString()),value:10*t}}),handler:h,focusHandler:i},{items:o("K",_("Sound track")),options:r,handler:l}]}function o(t,e,n){return"function"==typeof e&&(e=e()),[{value:t,className:"icon "+(n?n:"")},{value:e}]}function a(t){S.primary.aspect=t}function r(){return k}function c(){return[{items:o("K",_("Off")),value:null}].concat(L)}function d(t){null===t||(S.primary.subtitlesPID=t)}function l(t){S.primary.audioPID=t}function u(t){core.intent({action:"volume",silent:!0,data:{mute:t}})}function h(t){core.intent({action:"volume",silent:!0,data:{volume:t}})}var p,f,m,v,b,g="pSettings",y=n(8),w=new y({$node:document.getElementById(g)}),x=n(3),$=(n(5),n(2)),T=n(28),I=n(27),E=n(6),S=n(7),C=[],k=[],L=[];C=[{items:o("F",_("Sound")),options:s},{items:o("E",_("Display")),options:[{items:o("H",_("Aspect")),options:[{items:o("H","Original"),value:0},{items:o("H","Letter box"),value:1},{items:o("H","Pan&Scan"),value:2},{items:o("H","combined"),value:3},{items:o("H","enlarged"),value:4},{items:o("H","optimal"),value:5}],handler:a},{items:o("",_("Subtitles")),options:c,handler:d}]}],p=new T({panels:[new I({title:_("Settings"),children:[f=new E({data:C})]}),new I({title:_("Sound"),main:!0,children:[m=new E]}),new I({title:_("Options"),children:[v=new E({size:7,events:{"click:item":function(t){b(t.$item.data.value)}}})]})]}),w.add(p),p.drawShadow(),m.emit("focus:item",{$curr:m.$focusItem}),f.addListener("focus:item",function(t){p.panels[1].$title.innerText=_(t.$curr.layout.data[1].value),"function"==typeof t.$curr.data.options?m.setData({data:t.$curr.data.options(),focusIndex:0}):m.setData({data:t.$curr.data.options,focusIndex:0}),v.setData({data:[]}),m.emit("focus:item",{$curr:m.$focusItem})}),m.addListener("focus:item",function(t){p.panels[2].$title.innerText=_(t.$curr.layout.data[1].value),"function"==typeof t.$curr.data.options&&(t.$curr.data.options=t.$curr.data.options()),v.init({data:t.$curr.data.options,focusIndex:0}),b=t.$curr.data.handler||function(){},t.$curr.data.focusHandler&&t.$curr.data.focusHandler()}),m.addListener("focus",function(){v.init({data:this.$focusItem.data.options,focusIndex:0})}),w.addListener("keydown",function(t){switch(t.code){case $.back:x.back()}}),w.addListener("show",function(){p.panels[0].focus(),f.focusIndex(0)}),w.setMediaInfo=function(t){k=[],L=[],t.audioTracks&&t.audioTracks.length&&t.audioTracks.forEach(function(t){var e=t.lang[0]||_("Track")+" "+t.pid;k.push({items:o("K",e),value:t.pid})}),t.subtitlesTracks&&t.subtitlesTracks.length&&t.subtitlesTracks.forEach(function(t){var e=t.lang[0]||_("Track")+" "+t.pid;k.push({items:o("K",e),value:t.pid})})},t.exports=w},function(t,e){"use strict";t.exports={$node:document.getElementById("equalizer"),slideIndex:0,timer:null,active:!1,show:function(){var t=this;clearTimeout(this.timeout),this.active=!0,this.$node.style.display="block",this.$node.children[this.slideIndex].style.display="block",this.timeout=setTimeout(function e(){t.$node.children[t.slideIndex].style.display="none",t.slideIndex<3?t.slideIndex++:t.slideIndex=0,t.$node.children[t.slideIndex].style.display="block",t.timeout=setTimeout(e,85)},85)},hide:function(){clearTimeout(this.timeout),this.$node.style.display="none",this.$node.children[this.slideIndex].style.display="none",this.active=!1},pause:function(){clearTimeout(this.timeout)}}},function(t,e,n){"use strict";var i,s=n(3),o=document.getElementById("info"),a=document.getElementById("infoText"),r=document.getElementById("infoIcon"),c=!1,d=5e3;s.addListener("navigate",function(t){"pMain"===t.to.id&&c?o.classList.remove("bg"):"pClear"===t.to.id&&c&&o.classList.add("bg")}),t.exports=function(t){"pMain"===s.current.id?o.classList.remove("bg"):o.classList.add("bg"),o.classList.add("visible"),c=!0,a.innerText=t.text||"",r.innerText=t.icon||"",clearTimeout(i),i=setTimeout(function(){o.classList.remove("visible"),a.innerText="",r.innerText="",c=!1},d)}},function(t,e,n){"use strict";function i(t){t=t||{},this.action=t.action,this.data=t.data,this.context=t.context,this.mime=t.mime,s.call(this,t),this.events=t.events}var s=n(4);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,t.exports=i},function(t,e,n){"use strict";function i(t){t=t||{},t.type=o.prototype.TYPE_HORIZONTAL,t.data=s(t.data),t.className="horizontalMenu "+(t.className||""),o.call(this,t)}function s(t){var e,n=[];for(e=0;e<t.length;e++)n.push({click:t[e].click,items:[{className:"icon",value:t[e].icon},{className:"title",value:t[e].title}]});return n}var o=n(6);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.init=function(t){t=t||{},t.data=s(t.data),o.prototype.init.call(this,t)},t.exports=i},function(t,e,n){"use strict";function i(t){var e;t=t||{},t.className="playerPanel "+(t.className||""),t.$body=document.createElement("div"),t.$body.className="body",o.call(this,t),this.$node.appendChild(this.$progressbar=document.createElement("div")),this.$progressbar.className="progressBar",this.$node.appendChild(this.$body),this.$body.appendChild(this.$leftText=document.createElement("div")),this.$leftText.className="leftText",this.progressBar=new r({$node:this.$progressbar}),this.$body.appendChild(e=document.createElement("div")),e.className="buttonsWrapper",this.buttons=new c({focusIndex:2,cycle:!0,propagate:!0,parent:this,type:c.prototype.TYPE_HORIZONTAL,className:"playerButtons",data:[]}),e.appendChild(this.buttons.$node),this.$body.appendChild(this.$rightText=document.createElement("div")),this.$rightText.className="rightText",this.buttons.move=function(t){s.call(this,t)},this.init(t)}function s(t){var e,n;if(this.data.length)switch(t){case a.left:if(this.$focusItem&&this.$focusItem.index>0)if(this.$focusItem===this.$body.firstChild)this.renderView(this.viewIndex-1);else{if(this.$focusItem.previousSibling.data.disabled){for(e=this.$focusItem.index-1;e>=0;e--)if(!this.$body.children[e].data.disabled){n=this.$body.children[e];break}}else n=this.$focusItem.previousSibling;n&&this.focusItem(n)}else this.cycle&&this.move(a.end),this.events.overflow&&this.emit("overflow",{direction:t,cycle:this.cycle});break;case a.right:if(this.$focusItem&&this.$focusItem.index<this.data.length-1)if(this.$focusItem===this.$body.lastChild)this.renderView(this.viewIndex+1);else{if(this.$focusItem.nextSibling.data.disabled){for(e=this.$focusItem.index+1;e<this.data.length;e++)if(!this.$body.children[e].data.disabled){n=this.$body.children[e];break}}else n=this.$focusItem.nextSibling;n&&this.focusItem(n)}else this.cycle&&this.move(a.home),this.events.overflow&&this.emit("overflow",{direction:t,cycle:this.cycle})}}var o=n(1),a=n(2),r=n(29),c=n(6);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.init=function(t){var e=[{items:[{value:"<",className:"button channels"}],click:function(){t.onChannels&&t.onChannels({direction:a.left})}},{items:[{value:"3",className:"button"}],click:function(){t.onPrevNext&&t.onPrevNext({direction:a.left})}},{items:[{value:"5",className:"button"}],click:function(){t.onRewind&&t.onRewind({direction:a.left})}},{items:[{value:"2",className:"button playPauseBtn"}],click:function(){t.onPlay&&t.onPlay()}},{items:[{value:"6",className:"button"}],click:function(){t.onRewind&&t.onRewind({direction:a.right})}},{items:[{value:"4",className:"button"}],click:function(){t.onPrevNext&&t.onPrevNext({direction:a.right})}},{items:[{value:">",className:"button channels"}],click:function(){t.onChannels&&t.onChannels({direction:a.right})}}];this.buttons.init({data:e,size:e.length,focusIndex:3}),t.progressBar!==!1?this.progressBar.show():this.progressBar.hide(),t.play!==!1&&(this.$playPauseBtn=document.getElementsByClassName("playPauseBtn")[0])},i.prototype.focus=function(){this.buttons.focus()},i.prototype.rewind=function(t){},i.prototype.initButtons=function(t){t=t||{},this.buttons.enabledCount=0,t.prevChannel?(this.buttons.$body.children[0].classList.remove("disabled"),this.buttons.$body.children[0].data.disabled=!1,this.buttons.enabledCount++):(this.buttons.$body.children[0].classList.add("disabled"),this.buttons.$body.children[0].data.disabled=!0),t.prev?(this.buttons.$body.children[1].classList.remove("disabled"),this.buttons.$body.children[1].data.disabled=!1,this.buttons.enabledCount++):(this.buttons.$body.children[1].classList.add("disabled"),this.buttons.$body.children[1].data.disabled=!0),t.rewind?(this.buttons.$body.children[2].classList.remove("disabled"),this.buttons.$body.children[2].data.disabled=!1,this.buttons.enabledCount++):(this.buttons.$body.children[2].classList.add("disabled"),this.buttons.$body.children[2].data.disabled=!0),t.play?(this.buttons.$body.children[3].classList.remove("disabled"),this.buttons.$body.children[3].data.disabled=!1,this.buttons.enabledCount++):(this.buttons.$body.children[3].classList.add("disabled"),this.buttons.$body.children[3].data.disabled=!0),t.forward?(this.buttons.$body.children[4].classList.remove("disabled"),this.buttons.$body.children[4].data.disabled=!1,this.buttons.enabledCount++):(this.buttons.$body.children[4].classList.add("disabled"),this.buttons.$body.children[4].data.disabled=!0),t.next?(this.buttons.$body.children[5].classList.remove("disabled"),this.buttons.$body.children[5].data.disabled=!1,this.buttons.enabledCount++):(this.buttons.$body.children[5].classList.add("disabled"),this.buttons.$body.children[5].data.disabled=!0),t.nextChannel?(this.buttons.$body.children[6].classList.remove("disabled"),this.buttons.$body.children[6].data.disabled=!1,this.buttons.enabledCount++):(this.buttons.$body.children[6].classList.add("disabled"),this.buttons.$body.children[6].data.disabled=!0)},t.exports=i},function(t,e){"use strict";var n,i,s,o;if(window.parent.stbDisplayManager)t.exports=window.parent.stbDisplayManager;else{switch(n=gSTB.RDir("vmode")){case"1080i":case"1080i60":case"1080p":case"1080p60":s=1920,o=1080}i={width:screen.width,height:screen.height},t.exports={list:[i]}}},function(t,e,n){"use strict";function i(){try{o.audioTracks=JSON.parse(gSTB.GetAudioPIDsEx().replace(/pid:/g,'"pid":').replace(/lang:/g,'"lang":').replace(/type:/g,'"codecType":').replace(/,""/g,""))}catch(t){o.audioTracks=[]}try{o.subtitlesTracks=JSON.parse(gSTB.GetSubtitlePIDs().replace(/pid:/g,'"pid":').replace(/lang:/g,'"lang":').replace(/,""/g,""))}catch(t){o.subtitlesTracks=[]}try{o.metadataInfo=JSON.parse(gSTb.GetMetadataInfo())}catch(t){o.metadataInfo=null}}function s(){try{o.videoInfo=JSON.parse(gSTB.GetVideoInfo().replace(/frameRate:/g,'"frameRate":').replace(/pictureWidth:/g,'"width":').replace(/pictureHeight:/g,'"height":').replace(/hPAR:/g,'"hPAR":').replace(/vPAR:/g,'"vPAR":'))}catch(t){o.videoInfo=null}}var o={},a=n(15),r=0,c=!1,d=16777215,l="UTF-8",u="",h=0,p=20,f=0,m={height:screen.height,width:screen.width,x:0,y:0},v={height:0,save:!1,width:0,x:0,y:0},b=!0,g=!1,y=!1,w=!1;window.parent.stbPlayerManager?t.exports=window.parent.stbPlayerManager:(window.parent.stbEvent.events.media=[],window.parent.stbEvent.addListener("media",function(t){switch(t.code){case 1:o.state=0,o.onPlayEnd&&o.onPlayEnd();break;case 2:i(),o.onTracksInfo&&o.onTracksInfo();break;case 4:o.state=2,o.onPlayStart&&o.onPlayStart();break;case 5:o.state=0,o.onPlayError&&o.onPlayError();break;case 6:o.onDualMono&&o.onDualMono();break;case 7:s(),o.onContentInfo&&o.onContentInfo();break;case 8:o.onTracksError&&o.onTracksError();break;case 9:o.onTracksUpdate&&o.onTracksUpdate();break;case 129:o.onRTPBreak&&o.onRTPBreak()}}),o={surface:{moveTop:function(){gSTB.SetTopWin(1)},moveDown:function(){gSTB.SetTopWin(0)}},clearStatistics:function(){this.statistics={continuityErrors:0,decodingErrors:0,rtpErrors:0}},audioTracks:[],subtitlesTracks:[],drawSubtitle:function(t,e,n){gSTB.ShowSubtitle(e,n,t)},loadExternalSubtitles:function(t){gSTB.LoadExternalSubtitles(t)},state:0,HLSInfo:null,metadataInfo:null,videoInfo:null,enablePopup:!0,visible:!0,setViewport:function(t,e){e=e||{x:0,y:0,width:screen.width,height:screen.height},gSTB.SetViewportEx(t.width,t.height,t.x,t.y,e.width,e.height,e.x,e.y),m={width:t.width,height:t.height,x:t.x,y:t.y}},play:function(t){gSTB.Play((t.solution||"auto")+" "+t.uri),o.state=1},stop:function(){gSTB.Stop()},pause:function(){gSTB.Pause(),o.state=3},resume:function(){gSTB.Continue(),o.state=2},rotate:function(t){gSTB.Rotate(t)},onPlayEnd:function(){},onTracksInfo:function(){},onContentInfo:function(){},onPlayStart:function(){},onPlayError:function(){},onTracksError:function(){},onDualMono:function(){},onTracksUpdate:function(){},onRTPBreak:function(){},onTimeShift:function(t,e){},teletextOpacity:0,teletextPID:0,teletextTracks:[],teletextViewport:null,setTeletextViewport:function(t){},teletextCommand:function(t){},defaultTeletextSubtitlesCharset:function(t,e){},forceTeletextSubtitlesCharset:function(t,e){}},Object.defineProperties(o,{capabilities:{value:{audio:!0,autoFrameRate:!0,subtitles:!0,teletext:!0,video:!0}},statistics:{value:{continuityErrors:0,decodingErrors:0,rtpErrors:0}},mute:{get:function(){return gSTB.GetMute()},set:function(t){gSTB.SetMute(!!t)}},volume:{get:function(){return gSTB.GetVolume()},set:function(t){gSTB.SetVolume(+t)}},audioPID:{get:function(){return gSTB.GetAudioPID()},set:function(t){gSTB.SetAudioPID(t)}},dolbyDigitalAudioMode:{set:function(t){gSTB.SetAudioOperationalMode(+t),r=+t},get:function(){return r}},enableSubtitles:{get:function(){return c},set:function(t){gSTB.SetSubtitles(!!t),c=!!t}},subtitlesPID:{get:function(){return gSTB.GetSubtitlePID()},set:function(t){gSTB.SetSubtitlePID(t)}},subtitlesColor:{get:function(){return d},set:function(t){gSTB.SetSubtitlesColor(t),d=t}},subtitlesEncoding:{get:function(){return l},set:function(t){gSTB.SetSubtitlesEncoding(t),l=t}},subtitlesFont:{get:function(){return u},set:function(t){gSTB.SetSubtitlesFont(t),u=t}},subtitlesOffset:{get:function(){return h},set:function(t){gSTB.SetSubtitlesOffs(t),h=t}},subtitlesSize:{get:function(){return p},set:function(t){gSTB.SetSubtitlesSize(+t),p=+t}},bufferLoad:{get:function(){return gSTB.GetBufferLoad()}},duration:{get:function(){return gSTB.GetMediaLen()}},durationMs:{get:function(){return gSTB.GetMediaLenEx()}},position:{get:function(){return gSTB.GetPosTime()},set:function(t){gSTB.SetPosTime(t)}},positionMs:{get:function(){return gSTB.GetPosTimeEx()},set:function(t){gSTB.SetPosTimeEx(t)}},positionPercent:{get:function(){return gSTB.GetPosPercent()},set:function(t){gSTB.SetPosPercent(t)}},loop:{get:function(){return w},set:function(t){gSTB.SetLoop(t)}},speed:{get:function(){return gSTB.GetSpeed()},set:function(t){gSTB.SetSpeed(t)}},aspectConversion:{get:function(){return f},set:function(t){var e="0x"+t+"0";gSTB.SetAspect(e),f=t}},viewport:{get:function(){return m}},clip:{get:function(){return v}},fullscreen:{get:function(){return b},set:function(t){t===!0&&(gSTB.SetPIG(1,0,0,0),
b=!0,m={x:0,y:0,width:a.list[0].width,height:a.list[0].height})}},enableTeletext:{get:function(){return g},set:function(t){gSTB.SetTeletext(t),g=t}},teletextVisible:{get:function(){return y},set:function(t){gSTB.TeletextShow(t),y=t}}}),t.exports={list:[o],reset:function(){},swap:function(t,e){},autoFrameRateSource:null,autoFrameRate:null,setAutoFrameRate:function(t){},"3DConversionModeSource":null,"3DConversionMode":0,multicastProxy:"",setMulticastProxy:function(t){},resetMulticastProxy:function(){},activateCAS:function(){},setCASParams:function(t){},activateWebCAS:function(){},setWebCASParams:function(t){},checkSSLCertificate:!0,RTSP:null,setRTSP:function(t){},setBufferSize:function(t,e){},setAudioSource:function(t){}})},function(t,e){"use strict";var n={};n.parseTime=function(t){var e,n,i;return t>=0?(e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=t-3600*e-60*n,10>e&&(e="0"+e),10>i&&(i="0"+i),10>n&&(n="0"+n)):(t=Math.abs(t),e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=t-3600*e-60*n,10>e&&(e="0"+e),10>i&&(i="0"+i),10>n&&(n="0"+n),e="-"+e),{hour:e,min:n,sec:i}},t.exports=n},function(t,e){"use strict";t.exports={AUDIO_TYPES:{1:"mp2a",2:"mp3",3:"AC3",4:"AAC",5:"PCM",6:"OGG",7:"DTS"},LANGUAGES:{rus:"Russian",eng:"English",und:" "},aspects:{0:"Original",1:"Letter box",2:"Pan&Scan",3:"combined",4:"enlarged",5:"optimal"}}},function(t,e,n){"use strict";var i="pClear",s=n(8),o=new s({$node:document.getElementById(i)}),a=n(3),r=n(7),c=n(5),d=n(2);o.addListener("keydown",function(t){switch(t.code){case d.ok:a.navigate("pMain");break;case d.back:c.currentIntent.data.persistent||r.primary.stop(),c.currentIntent.close(),c.emit("close");break;case d.left:c.rewind(!1);break;case d.right:c.rewind(!0);break;case d.up:c.nextPrevContent(!0);break;case d.down:c.nextPrevContent(!1)}}),t.exports=o},function(t,e,n){"use strict";function i(){var t=O.primary.position;j.currentTime=O.primary.position,y.progressBar.set(t),t=P.parseTime(t),y.$leftText.innerText=t.hour+":"+t.min+":"+t.sec}function s(t,e){return t.data?(v=null,b=t,L.currentIntent=t,p(),!t.context&&t.data.uri&&"content/video"!==t.mime&&document.body.classList.remove("transparent"),t.data.headless?t.context&&b||k.navigate("pClear"):k.navigate("pMain"),R.innerText=t.data.title||t.data.uri,t.addListener("start",function(){var t,e=O.primary.duration;"content/video"===b.mime?(v="content/video",document.body.classList.add("transparent")):"content/audio"===b.mime&&(v="content/audio",document.body.classList.remove("transparent")),"content/audio"===v&&H.show(),e?(W.rewind=!0,W.forward=!0,y.initButtons(W),t=O.primary.position,j.currentTime=t,t=P.parseTime(t),y.$leftText.innerText=t.hour+":"+t.min+":"+t.sec,y.progressBar.show(),y.progressBar.init({max:e}),j.rewind.isActive||(j.duration=e,U.progress=setInterval(i,1e3),e=P.parseTime(e),y.$rightText.innerText=e.hour+":"+e.min+":"+e.sec)):(y.progressBar.hide(),j.duration=null)}),t.addListener("content:info",function(){O.primary.videoInfo&&O.primary.videoInfo.width?"content/audio"!==t.mime?document.body.classList.add("transparent"):v="content/audio":(document.body.classList.remove("transparent"),v="content/audio"),"content/audio"===v&&H.show()}),t.events.end&&t.events.end.length||t.once("end",function(){t.close()}),t.addListener("media:info",o),t.addListener("end",function(){clearInterval(U.progress)}),t.addListener("exit",function(){O.primary.stop(),b.data.persistent=!1,L.currentIntent.data.persistent=!1}),t.once("start",function(){m(F)}),t.addListener("error",function(){core.notify({title:"Error playing content: "+(t.data.title||t.data.uri),icon:"alert",type:"error",timeout:3e3})}),W.rewind=!1,W.forward=!1,W.prev=t.events.prev&&t.events.prev.length&&t.events.prev[0],W.next=t.events.next&&t.events.next.length&&t.events.next[0],W.prevChannel=t.events.prevChannel&&t.events.prevChannel.length&&t.events.prevChannel[0],W.nextChannel=t.events.nextChannel&&t.events.nextChannel.length&&t.events.nextChannel[0],y.initButtons(W),y.buttons.$focusItem.data.disabled&&y.buttons.focusIndex(3),void O.intent(t,e)):void e(!0,null)}function o(t){var e,n,i=O.primary.audioPID;D.setMediaInfo(t),t.audioTracks&&t.audioTracks.length&&t.audioTracks.forEach(function(t){return t.pid===i?void(e=t):void 0}),z.codec.src="",z.lang.innerText="",e&&(e.codecType?z.codec.src="./img/"+L.data.metrics.height+"/codec"+e.codecType+".png":z.codec.src="",z.lang.innerText=G.LANGUAGES[e.lang[0]]||e.lang[0]||""),clearTimeout(U.contentInfo),U.contentInfo=setTimeout(function(){z.codec.src="",z.lang.innerText=""},5e3),t.subtitlesTracks&&t.subtitlesTracks.length?(w.init({data:[x,$,T,I],size:4,focusIndex:2}),j.subtitles.list=t.subtitlesTracks,j.subtitles.currentPID=O.primary.subtitlesPID,O.primary.enableSubtitles&&(n=d(j.subtitles.currentPID),j.subtitles.current=n.track,j.subtitles.index=n.index)):(j.subtitles.current=null,j.subtitles.currentPID=null,j.subtitles.list=[])}function a(t,e){var n,i,s=0;if(j.duration){for(clearInterval(U.progress),e=e||j.rewind.timeoutDuration,j.rewind.isActive||("pClear"===k.current.id&&(k.navigate("pMain"),j.rewind.remote=!0),y.$progressbar.classList.add("active"),j.rewind.isActive=!0,j.rewind.startTime=j.currentTime,j.rewind.time=j.currentTime),j.rewind.direction===t?(j.rewind.intervals.splice(0,1),j.rewind.intervals[j.rewind.intervals.length]=j.rewind.intervals[j.rewind.intervals.length-1]+10):(j.rewind.intervals=[0,0,10],j.rewind.direction=t),j.rewind.remote&&(t?y.buttons.focusIndex(3):y.buttons.focusIndex(1)),i=0;i<j.rewind.intervals.length;i++)s+=(t?1:-1)*j.rewind.intervals[i];s>1800&&(s=1800),-1800>s&&(s=-1800),j.rewind.time+=s,j.rewind.time>j.duration&&(j.rewind.time=j.duration-1),j.rewind.time<0&&(j.rewind.time=3),n=P.parseTime(j.rewind.time),y.progressBar.set(j.rewind.time),y.$leftText.innerText=n.hour+":"+n.min+":"+n.sec,clearTimeout(j.rewind.timeout),j.rewind.timeout=setTimeout(function(){j.rewind.isActive=!1,O.primary.position=j.rewind.time,j.currentTime=j.rewind.time,y.$progressbar.classList.remove("active"),j.rewind.mode=null,j.rewind.remote&&(m(1),j.rewind.remote=!1)},e),H.active&&H.pause()}}function r(){var t=O.primary.aspect;5>t?t++:t=0,O.primary.aspect=t,V({text:G.aspects[t],icon:"H"})}function c(){var t;j.subtitles.list.length&&(O.primary.enableSubtitles?j.subtitles.index>=j.subtitles.list.length-1?(O.primary.enableSubtitles=!1,j.subtitles.index=null,j.subtitles.current=null,V({text:"Subtitles off",icon:"u"})):(j.subtitles.index++,j.subtitles.current=j.subtitles.list[j.subtitles.index],j.subtitles.currentPID=j.subtitles.current.pid,V({text:"Subtitles "+(j.subtitles.current.lang[0]||"track "+j.subtitles.currentPID),icon:"u"})):j.subtitles.currentPID&&null===j.subtitles.index&&(O.primary.enableSubtitles=!0,t=d(j.subtitles.currentPID),j.subtitles.index=t.index,j.subtitles.current=t.track,V({text:"Subtitles "+(j.subtitles.current.lang[0]||"track "+j.subtitles.currentPID),icon:"u"})))}function d(t){var e,n;for(e=0;e<j.subtitles.list.length;e++)if(n=j.subtitles.list[e],n.pid===t)return{track:n,index:e};return null}function l(){k.current.id!==C.id&&(k.navigate(C.id),y.buttons.focusIndex(2)),2===O.primary.state?(y.$playPauseBtn.innerText=1,O.primary.pause(),H.active&&H.pause()):3===O.primary.state&&(y.$playPauseBtn.innerText=2,O.primary.resume(),"content/audio"===v&&H.show())}function u(t){clearInterval(U.progress),O.primary.stop(),p(),H.active&&H.hide(),document.body.classList.remove("transparent"),t&&b.events.next?b.emit("next"):!t&&b.events.prev&&b.emit("prev")}function h(t){clearInterval(U.progress),O.primary.stop(),p(),H.active&&H.hide(),document.body.classList.remove("transparent"),t&&b.events.nextChannel?b.emit("nextChannel"):!t&&b.events.prevChannel&&b.emit("prevChannel")}function p(){w.init({data:[x,$,T],size:3,focusIndex:1}),j.duration=null,y.$playPauseBtn.innerText=2,y.$rightText.innerText="",y.$leftText.innerText="",y.progressBar.set(0),y.progressBar.hide(),z.codec.src="",z.lang.innerText=""}function f(){g=b,O.intent(new A({action:"pip",mime:v,events:{maximize:function(){var t;b=g,g=null,L.currentIntent=b,R.innerText=b.data.title||b.data.uri,clearInterval(U.progress),t=O.primary.duration,"content/video"===b.mime?document.body.classList.add("transparent"):"content/audio"===b.mime&&document.body.classList.remove("transparent"),t?(y.progressBar.show(),j.duration=t,y.progressBar.init({max:t}),U.progress=setInterval(i,1e3),t=P.parseTime(t),y.$rightText.innerText=t.hour+":"+t.min+":"+t.sec):(y.$playPauseBtn.innerText=1,y.$rightText.innerText="",y.$leftText.innerText="",y.progressBar.set(0),y.progressBar.hide())},swap:function(){var t,e;e=g,g=b,b=e,L.currentIntent=b,R.innerText=b.data.title||b.data.uri,clearInterval(U.progress),t=O.primary.duration,"content/video"===b.mime?document.body.classList.add("transparent"):"content/audio"===b.mime&&document.body.classList.remove("transparent"),t?(j.duration=t,y.progressBar.init({max:t}),y.progressBar.show(),U.progress=setInterval(i,1e3),t=P.parseTime(t),y.$rightText.innerText=t.hour+":"+t.min+":"+t.sec):(y.$playPauseBtn.innerText=1,y.$rightText.innerText="",y.$leftText.innerText="",y.progressBar.set(0),y.progressBar.hide())}}})),L.emit("close"),core.call("hide")}function m(t){t=t||5,clearTimeout(U.panelHide),U.panelHide=setTimeout(function(){k.navigate("pClear")},1e3*t)}var v,b,g,y,w,x,$,T,I,E="pMain",S=n(8),C=new S({$node:document.getElementById(E)}),k=n(3),L=n(5),N=n(2),P=n(17),B=n(13),D=n(9),M=n(14),A=n(12),O=n(7),R=document.getElementById("contentTitle"),V=n(11),z={codec:document.getElementById("codecInfo"),lang:document.getElementById("langInfo")},H=n(10),G=n(18),U={progress:null,contentInfo:null,panelHide:null},j={duration:0,currentTime:0,rewind:{isActive:!1,startTime:0,time:0,timeout:null,timeoutDuration:800,intervals:[0,0,10],mode:null,remote:!1,remoteTimer:null},subtitles:{index:null,current:null,currentPID:null,list:[]}},W={play:!0,rewind:!1,forward:!1,next:!1,prev:!1,nextChannel:!1,prevChannel:!1},F=10;x={icon:"G",title:_("PiP"),click:f},$={icon:"H",title:_("Aspect"),click:r},T={icon:"N",title:_("Settings"),click:function(){k.navigate("pSettings")}},I={icon:"u",title:_("Subtitles"),click:c},C.add(w=new B({$node:document.getElementById("pMainMenu"),focusIndex:1,size:3,propagate:!1,data:[x,$,T],events:{keydown:function(t){B.prototype.defaultEvents.keydown.call(this,t),t.code===N.up&&y.focus()}}})),C.add(y=new M({$node:document.getElementById("pMainPlayerPanel"),onPlay:l,onRewind:function(t){t.direction===N.right?a(!0,2500):t.direction===N.left&&a(!1,2500)},onPrevNext:function(t){switch(t.direction){case N.right:u(!0);break;case N.left:u(!1)}},onChannels:function(t){switch(t.direction){case N.right:h(!0);break;case N.left:h(!1)}},events:{keydown:function(t){t.code===N.down&&w.focus()}}})),y.initButtons(W),C.addListener("show",function(){y.focus()}),core.events={},core.addListener("intent",function(t,e){switch(t.action){case"play":s(t,e)}}),C.addListener("keydown",function(t){if(clearTimeout(U.panelHide),j.rewind.remote)switch(t.code){case N.right:a(!0);break;case N.left:a(!1)}else switch(t.code){case N.back:k.navigate("pClear");break;case N.info:k.navigate("pClear")}}),L.addListener("keydown",function(t){switch(t.code){case N.stop:O.primary.stop(),document.body.classList.remove("transparent"),clearInterval(U.progress),y.$rightText.innerText="00:00:00",y.$leftText.innerText="00:00:00",y.progressBar.set(0);break;case N.forward:a(!0);break;case N.rewind:a(!1);break;case N.playPause:case 32:l();break;case N.channelNext:h(!0);break;case N.channelPrev:h(!1);break;case N.pageDown:u(!0);break;case N.pageUp:u(!1);break;case N.exit:O.primary.stop(),H.hide(),p(),b.close();break;case N.info:b.events.onInfoPress&&b.emit("onInfoPress");break;case 117:r();break;case N.refresh:f()}}),L.rewind=a,L.nextPrevContent=function(t){b.events.next||b.events.prev?u(t):(b.events.nextChannel||b.events.prevChannel)&&h(t)},L.addListener("close",function(){clearTimeout(U.progress),H.active&&H.hide(),g||O.reset()}),L.addListener("hide",function(){}),core.addListener("hide",function(){O.primary.stop(),H.hide(),p(),clearInterval(U.progress)}),t.exports=C},function(module,exports,__webpack_require__){"use strict";var Emitter=__webpack_require__(4),gettext=new Emitter,meta=null,data=null;gettext.load=function(t,e){var n=new XMLHttpRequest;t.ext=t.ext||"json",t.path=t.path||"lang",n.responseType="text",n.onload=function(){var t;try{t=JSON.parse(n.responseText),meta=t.meta,data=t.data,e(null,data)}catch(i){meta=null,data=null,n.onerror(i)}gettext.events.load&&gettext.emit("load")},n.onerror=function(t){e(t),gettext.events.error&&gettext.emit("error")},n.open("GET",t.path+"/"+t.name+"."+t.ext,!0),n.send(null)},window.gettext=function(t){return data&&data[""][t]?data[""][t]:t},window.pgettext=function(t,e){return data&&data[t][e]?data[t][e]:e},window.ngettext=function(msgId,plural,value){return data&&meta?data[""][msgId][eval("var n = "+value+"; "+meta.plural)]:1===value?msgId:plural},module.exports=gettext},function(t,e,n){"use strict";function i(t){s.call(this),this.data=t||{}}var s=n(4);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.idName="id",i.prototype.clear=function(){var t=this.data;return Object.keys(t).length>0?(this.data={},this.events.clear&&this.emit("clear",{data:t}),!0):!1},i.prototype.init=function(t){return t?(this.clear(),this.data=t,this.events.init&&this.emit("init",{data:t}),!0):!1},i.prototype.has=function(t){return this.data.hasOwnProperty(t)},i.prototype.get=function(t){return this.data[t]},i.prototype.set=function(t,e){var n=t in this.data,i={name:t,curr:e};return n?(i.prev=this.data[t],e!==i.prev?(this.data[t]=e,this.events.change&&this.emit("change",i),!0):!1):(this.data[t]=e,this.events.change&&this.emit("change",i),!0)},i.prototype.unset=function(t){var e,n=t in this.data;return n?(e={name:t,prev:this.data[t]},delete this.data[t],this.events.change&&this.emit("change",e),!0):!1},t.exports=i},function(t,e){"use strict";if(!("classList"in document.documentElement)){var n=Array.prototype,i=n.indexOf,s=n.slice,o=n.push,a=n.splice,r=n.join;window.DOMTokenList=function(t){if(this._element=t,t.className!==this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,n=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<n.length;e++)o.call(this,n[e])}},window.DOMTokenList.prototype={add:function(t){this.contains(t)||(o.call(this,t),this._element.className=s.call(this,0).join(" "))},contains:function(t){return-1!==i.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var e=i.call(this,t);-1!==e&&(a.call(this,e,1),this._element.className=s.call(this,0).join(" "))},toString:function(){return r.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(t,e,n){"use strict";function i(t){t=t||{},this.focusIndex=0,t.className="layout "+(t.className||""),this.data=[],o.call(this,t),this.init(t),this.addListener("keydown",function(t){switch(t.code){case a.right:this.children.length&&this.focusIndex<this.children.length-1&&this.children[++this.focusIndex].focus();break;case a.left:this.children.length&&this.focusIndex>0&&this.children[--this.focusIndex].focus();break;case a.back:this.parent.focus(),this.parent&&this.$parentItem&&this.parent.focusItem(this.$parentItem)}})}function s(t){var e,n;for(e=0;e<t.length;e++)n=t[e],"object"!=typeof n?t[e]={value:t[e],wrap:!0}:n instanceof o||n instanceof HTMLElement?t[e]={value:n,wrap:!1}:t[e].wrap=!0;return t}var o=n(1),a=n(2);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.init=function(t){for(var e,n,i,a=this,r=s(t.data);this.$node.firstChild;)this.$node.removeChild(this.$node.firstChild);for(this.data=r,i=0;i<r.length;i++)e=r[i],"string"==typeof e.value?(n=document.createElement("div"),n.textContent=e.value,e.className&&(n.className=e.className),this.$node.appendChild(n)):e.value instanceof HTMLElement?e.wrap?(n=document.createElement("div"),e.className&&(n.className=e.className),n.appendChild(e.value),this.$node.appendChild(n)):this.$node.appendChild(e.value):e.value instanceof o&&(e.value.propagate=!0,e.value.index=this.children.length,e.value.addListener("click",function(){a.focusIndex=this.index}),e.wrap?(n=document.createElement("div"),e.className&&(n.className=e.className),n.appendChild(e.value.$node),this.$node.appendChild(n),this.children.push(e.value),e.value.parent=this):this.add(e.value))},t.exports=i},function(t,e,n){"use strict";function i(t){t=t||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,t.type&&(this.type=t.type),this.provider=null,t.className="list "+(t.className||""),this.type===this.TYPE_HORIZONTAL&&(t.className+=" horizontal"),o.call(this,t),this.init(t)}function s(t){var e,n;for(e=0;e<t.length;e++)n=t[e],"object"!=typeof n&&(n=t[e]={value:t[e]});return t}var o=n(1),a=n(2);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.TYPE_VERTICAL=1,i.prototype.TYPE_HORIZONTAL=2,i.prototype.renderItemDefault=function(t,e){t.innerText=e.value},i.prototype.renderItem=i.prototype.renderItemDefault,i.prototype.defaultEvents={mousewheel:function(t){this.type===this.TYPE_VERTICAL&&t.wheelDeltaY&&this.move(t.wheelDeltaY>0?a.up:a.down),this.type===this.TYPE_HORIZONTAL&&t.wheelDeltaX&&this.move(t.wheelDeltaX>0?a.left:a.right)},keydown:function(t){switch(t.code){case a.up:case a.down:case a.right:case a.left:case a.pageUp:case a.pageDown:case a.home:case a.end:this.move(t.code);break;case a.ok:this.events["click:item"]&&this.emit("click:item",{$item:this.$focusItem,event:t})}}},i.prototype.init=function(t){var e,n,i=this,s=this.$body.children.length,o=function(t){this.data&&(i.focusItem(this),i.events["click:item"]&&i.emit("click:item",{$item:this,event:t}))};if(void 0!==t.cycle&&(this.cycle=t.cycle),t.scroll&&(this.scroll=t.scroll),t.provider&&(this.provider=t.provider),t.render&&(this.renderItem=t.render),t.size&&(this.size=t.size),this.size!==s)for(s>0&&(this.$body.innerText=null),n=0;n<this.size;n++)e=document.createElement("div"),e.index=n,e.className="item",e.addEventListener("click",o),this.$body.appendChild(e);void 0!==t.viewIndex,this.viewIndex=null,this.provider?this.provider.get(null,function(e,n){e?i.events["data:error"]&&i.emit("data:error",e):(n&&(t.data=n,i.setData(t)),i.events["data:get"]&&i.emit("data:get"))}):t.data&&this.setData(t)},i.prototype.setData=function(t){t.data&&(this.data=s(t.data)),this.viewIndex=null,this.$focusItem&&this.blurItem(this.$focusItem),void 0!==t.focusIndex&&this.data.length?this.focusIndex(t.focusIndex):this.renderView(t.viewIndex||0)},i.prototype.renderView=function(t){var e,n,i,s,o;if(this.viewIndex!==t){for(s=this.viewIndex,this.viewIndex=o=t,n=0;n<this.size;n++)e=this.$body.children[n],i=this.data[t],i?(e.data=i,e.index=t,this.renderItem(e,i),i.mark?e.classList.add("mark"):e.classList.remove("mark")):(e.data=e.index=void 0,e.innerHTML="&nbsp;",e.ready=!1),t++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:s,currIndex:o}),this.events["select:item"]&&this.emit("select:item",{$item:e}),this.scroll&&this.scroll.scrollTo(this.viewIndex),!0}return!1},i.prototype.move=function(t){var e=this,n=!1;if(this.data.length)switch(t){case a.left:if(this.type!==this.TYPE_HORIZONTAL)break;n=!0;case a.up:(n||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling):this.provider?this.provider.get(t,function(t,n){t?e.events["data:error"]&&e.emit("data:error",t):n&&e.setData({data:n,focusIndex:e.$focusItem.index})}):(this.cycle&&this.move(a.end),this.events.overflow&&this.emit("overflow",{direction:t,cycle:this.cycle})));break;case a.right:if(this.type!==this.TYPE_HORIZONTAL)break;n=!0;case a.down:(n||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling):this.provider?this.provider.get(t,function(t,n){t?e.events["data:error"]&&e.emit("data:error",t):n&&e.setData({data:n,focusIndex:e.$focusItem.index})}):(this.cycle&&this.move(a.home),this.events.overflow&&this.emit("overflow",{direction:t,cycle:this.cycle})));break;case a.pageUp:if(this.provider)return void this.provider.get(t,function(t,n){t?e.events["data:error"]&&e.emit("data:error",t):n&&e.setData({data:n,focusIndex:0})});this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild);break;case a.pageUp:if(this.provider){this.provider.get(t,function(t,n){t?e.events["data:error"]&&e.emit("data:error",t):n&&e.setData({data:n,focusIndex:0})});break}this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild);break;case a.pageDown:if(this.provider){this.provider.get(t,function(t,n){t?e.events["data:error"]&&e.emit("data:error",t):n&&e.setData({data:n,focusIndex:n.length<e.size?n.length-1:e.size-1})});break}this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]);break;case a.home:if(this.provider){this.provider.get(t,function(t,n){t?e.events["data:error"]&&e.emit("data:error",t):n&&e.setData({data:n,focusIndex:0})});break}this.renderView(0),this.focusItem(this.$body.firstChild);break;case a.end:if(this.provider){this.provider.get(t,function(t,n){t?e.events["data:error"]&&e.emit("data:error",t):n&&e.setData({data:n,focusIndex:n.length<e.size?n.length-1:e.size-1})});break}this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])}},i.prototype.focusItem=function(t){var e=this.$focusItem;return t&&e!==t?(null!==e&&(e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e})),this.$focusItem=t,this.$focusItem.data=this.data[this.$focusItem.index],t.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:e,$curr:t}),this.events["select:item"]&&this.emit("select:item",{$item:t}),!0):!1},i.prototype.blurItem=function(t){return t?(t===this.$focusItem&&(this.$focusItem=null),t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t}),!0):!1},i.prototype.focusIndex=function(t){var e=this.viewIndex||0;t>=e+this.size?(t=t<this.data.length-1?t:this.data.length-1,this.renderView(t-this.size+1),this.focusItem(this.$body.lastChild)):e>t?(t=t>0?t:0,this.renderView(t),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[t-e]))},i.prototype.markItem=function(t,e){e?t.classList.add("mark"):t.classList.remove("mark"),t.data.mark=e},t.exports=i},function(t,e,n){"use strict";function i(t){var e;t=t||{},t.focusable=t.focusable||!1,t.className="modalMessage "+(t.className||""),t.visible=t.visible||!1,t.$body=document.createElement("div"),t.$body.className="body",s.call(this,t),this.$node.appendChild(document.createElement("div")),this.$node.firstChild.appendChild(document.createElement("div")),this.$header=document.createElement("div"),this.$header.className="header",this.$text=this.$header.appendChild(document.createElement("div")),this.$text.classList.add("text"),this.$text.innerText=t.title||"",t.icon&&(this.$icon=this.$header.appendChild(document.createElement("div")),this.$icon.className="icon "+t.icon),e=document.createElement("div"),e.className="overlay",this.$node.firstChild.firstChild.appendChild(this.$header),this.$node.firstChild.firstChild.appendChild(this.$body),this.$node.firstChild.firstChild.appendChild(e)}var s=n(1);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.focus=function(){this.$node.classList.add("active"),s.prototype.focus.call(this),this.children[0]&&this.children[0]instanceof s&&this.children[0].focus()},i.prototype.blur=function(){this.$node.classList.remove("active"),s.prototype.blur.call(this)},t.exports=i},function(t,e,n){"use strict";function i(t){var e;t=t||{},this.size=1,this.main=!1,this.index=0,t.className="panelEx "+(t.className||""),t.$body=document.createElement("div"),t.$body.className="body",s.call(this,t),t.size&&(this.size=t.size,this.$node.classList.add("size"+t.size)),t.main&&(this.main=!0,this.$node.classList.add("main")),this.$shadow={left:document.createElement("div"),right:document.createElement("div")},this.$shadow.left.className="shadow left",this.$node.appendChild(this.$shadow.left),this.$shadow.right.className="shadow right",this.$node.appendChild(this.$shadow.right),t.title&&(this.$title=document.createElement("div"),this.$title.className="title",this.$title.innerText=t.title,this.$node.appendChild(this.$title)),this.$node.appendChild(this.$body),e=document.createElement("div"),e.className="overlay",this.$node.appendChild(e)}var s=n(1);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.defaultEvents={focus:function(){this.children.length&&this.children[0].focus()}},i.prototype.focus=function(){this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),this.parent.panels[this.parent.focusIndex].$node.classList.remove("top"),s.prototype.focus.call(this),this.parent.focusIndex=this.index,this.$node.classList.add("active"),this.$node.classList.add("top"),0===this.index&&this.parent.panels[1].main?(this.parent.panels[1].$node.classList.remove("position-left"),this.parent.panels[1].$node.classList.add("position-right"),this.parent.panels[2].$node.classList.remove("expand"),this.$node.classList.add("expand")):2===this.index&&this.parent.panels[1].main&&(this.parent.panels[1].$node.classList.remove("position-right"),this.parent.panels[1].$node.classList.add("position-left"),this.parent.panels[0].$node.classList.remove("expand"),this.$node.classList.add("expand"))},i.prototype.blur=function(){this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),s.prototype.blur.call(this)},t.exports=i},function(t,e,n){"use strict";function i(t){function e(t){switch(t.code){case o.left:i.focusIndex>0&&i.panels[i.focusIndex-1].focus();break;case o.right:i.focusIndex<i.panels.length-1&&i.panels[i.focusIndex+1].focus()}}var n,i=this;for(t=t||{},t.focusable=t.focusable||!1,t.className="panelSet "+(t.className||""),s.call(this,t),this.panels=t.panels,this.focusIndex=0,t.panels&&!t.panels[0].main&&(t.panels[0].$node.classList.add("left"),t.panels[0].$node.classList.add("expand")),t.panels&&t.panels[1].main&&t.panels[1].$node.classList.add("position-right"),t.panels&&t.panels[2]&&t.panels[1].main&&t.panels[2].$node.classList.add("right"),t.panels&&this.add.apply(this,t.panels),n=0;n<this.panels.length;n++)this.panels[n].addListeners({keydown:e}),this.panels[n].index=n}var s=n(1),o=n(2);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.drawShadow=function(){var t,e,n;for(t=0;t<this.panels.length;t++)t>0&&(this.panels[t].$node.classList.add("leftShadow"),e=this.panels[t-1].$node.offsetHeight,n=this.panels[t-1].$node.offsetTop-this.panels[t].$node.offsetTop,this.panels[t].$node.offsetHeight>e?(this.panels[t].$shadow.left.style.height=this.panels[t-1].$node.offsetHeight+"px",this.panels[t].$shadow.left.style.top=n+"px"):this.panels[t].$shadow.left.style.height=this.panels[t].$node.offsetHeight+"px"),t<this.panels.length-1&&(this.panels[t].$node.classList.add("rightShadow"),e=this.panels[t+1].$node.offsetHeight,n=this.panels[t+1].$node.offsetTop-this.panels[t].$node.offsetTop,this.panels[t].$node.offsetHeight>e?(this.panels[t].$shadow.right.style.height=this.panels[t-1].$node.offsetHeight+"px",this.panels[t].$shadow.right.style.top=n+"px"):this.panels[t].$shadow.right.style.height=this.panels[t].$node.offsetHeight+"px")},i.prototype.focus=function(){s.prototype.focus.call(this),this.panels[this.focusIndex].focus()},i.prototype.blur=function(){this.panels[this.focusIndex].blur()},t.exports=i},function(t,e,n){"use strict";function i(t){t=t||{},this.max=100,this.min=0,this.value=0,this.step=1,t.focusable=t.focusable||!1,t.className="progressBar "+(t.className||""),s.call(this,t),this.$value=this.$body.appendChild(document.createElement("div")),this.$value.className="value",this.init(t)}var s=n(1);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.prototype.set=function(t){var e=this.value;return this.value!==t&&t<=this.max&&t>=this.min?(this.value=t,t=Math.abs(this.value-this.min)/this.step,100===t&&this.events.done&&this.emit("done"),this.$value.style.width=t+"%",this.events.change&&this.emit("change",{curr:this.value,prev:e}),!0):!1},i.prototype.init=function(t){void 0!==t.max&&(this.max=t.max),void 0!==t.min&&(this.min=t.min),void 0!==t.value&&(this.value=t.value),this.step=Math.abs(this.max-this.min)/100,this.$value.style.width=Math.abs(this.min-this.value)/this.step+"%"},t.exports=i},function(t,e){"use strict";t.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48},576:{height:576,width:720,availTop:24,availBottom:24,availRight:26,availLeft:54},720:{height:720,width:1280,availTop:30,availBottom:30,availRight:40,availLeft:40},1080:{height:1080,width:1920,availTop:45,availBottom:45,availRight:60,availLeft:60}}}]);